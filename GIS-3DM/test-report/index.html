
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="长大地科研学课程记录公开站【2022级】">
      
      
        <meta name="author" content="gis-xh">
      
      
        <link rel="canonical" href="https://github.com/gis-xh/yanxue-notes/GIS-3DM/test-report/">
      
      
        <link rel="prev" href="../">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.3, mkdocs-material-9.1.13">
    
    
      
        <title>课堂实验报告 - 长大地科研学课程记录【2022级】</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.85bb2934.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.a6bdf11c.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../css/timeago.css">
    
      <link rel="stylesheet" href="../../mkdocs/css/unordered-list-symbols.css">
    
      <link rel="stylesheet" href="../../mkdocs/css/img-center.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
   <link href="../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
        html.glightbox-open { overflow: initial; height: 100%; }
        .gslide-title { margin-top: 0px; user-select: text; }
        .gslide-desc { color: #666; user-select: text; }
        .gslide-image img { background: white; }
        
            .gscrollbar-fixer { padding-right: 15px; }
            .gdesc-inner { font-size: 0.75rem; }
            body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
            body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
            body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}
            </style> <script src="../../assets/javascripts/glightbox.min.js"></script></head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="orange">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#_1" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../.." title="长大地科研学课程记录【2022级】" class="md-header__button md-logo" aria-label="长大地科研学课程记录【2022级】" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            长大地科研学课程记录【2022级】
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              课堂实验报告
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
          
            
            
            
            <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="orange"  aria-label="切换至夜间模式"  type="radio" name="__palette" id="__palette_1">
            
              <label class="md-header__button md-icon" title="切换至夜间模式" for="__palette_2" hidden>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg>
              </label>
            
          
            
            
            
            <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="orange"  aria-label="切换至日间模式"  type="radio" name="__palette" id="__palette_2">
            
              <label class="md-header__button md-icon" title="切换至日间模式" for="__palette_1" hidden>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"/></svg>
              </label>
            
          
        </form>
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="分享" aria-label="分享" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/gis-xh/yanxue-notes" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg>
  </div>
  <div class="md-source__repository">
    gis-xh/yanxue-notes
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="标签" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../SDB/" class="md-tabs__link">
        空间数据库
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../English/words-in-use/" class="md-tabs__link">
        综合英语
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../RS-DIP/index.md" class="md-tabs__link">
        遥感数字图像分析与处理
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../BigData/" class="md-tabs__link">
        大数据系列课程
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../LIS/" class="md-tabs__link">
        土地信息系统
      </a>
    </li>
  

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../" class="md-tabs__link md-tabs__link--active">
        地理信息系统三维建模
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="长大地科研学课程记录【2022级】" class="md-nav__button md-logo" aria-label="长大地科研学课程记录【2022级】" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    长大地科研学课程记录【2022级】
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/gis-xh/yanxue-notes" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg>
  </div>
  <div class="md-source__repository">
    gis-xh/yanxue-notes
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
        
      
      <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_1" >
      
      
        
          
            
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../SDB/">空间数据库</a>
          
            <label for="__nav_1">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          空间数据库
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../SDB/Install-PostgreSQL%2BPostGIS/" class="md-nav__link">
        PostgreSQL9.6 & PostGIS3.2 安装教程
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../SDB/class-requirement/" class="md-nav__link">
        课堂要求
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
        
      
      <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_1_4" >
      
      
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_1_4" id="__nav_1_4_label" tabindex="0">
          课后练习
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_1_4">
          <span class="md-nav__icon md-icon"></span>
          课后练习
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../SDB/practice/01/" class="md-nav__link">
        练习一 数字化校园
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../SDB/practice/02/" class="md-nav__link">
        练习二 数字化校园的数据表与 E-R 图
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../SDB/practice/03/" class="md-nav__link">
        练习三 SQL 的 6 个基本操作
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../SDB/practice/04/" class="md-nav__link">
        练习四 论文研读
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../SDB/practice/05/" class="md-nav__link">
        练习五 邻接矩阵
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
        
      
      <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2" >
      
      
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
          综合英语
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          综合英语
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../English/words-in-use/" class="md-nav__link">
        选词填空 (25分)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../English/translation/" class="md-nav__link">
        英翻汉 (30分)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../English/reading/" class="md-nav__link">
        阅读 (30分)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../English/writing-task/" class="md-nav__link">
        作文 (15分)
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
        
      
      <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
      
      
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
          遥感数字图像分析与处理
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          遥感数字图像分析与处理
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../RS-DIP/index.md" class="md-nav__link">
        None
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
        
      
      <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_2" >
      
      
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
          课后练习
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_2">
          <span class="md-nav__icon md-icon"></span>
          课后练习
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../RS-DIP/practice/01.md" class="md-nav__link">
        练习一
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../RS-DIP/practice/02.md" class="md-nav__link">
        练习二
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../RS-DIP/practice/03.md" class="md-nav__link">
        练习三
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
        
      
      <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_3" >
      
      
        
          
        
      
      
        <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
          结课大作业
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_3">
          <span class="md-nav__icon md-icon"></span>
          结课大作业
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../RS-DIP/practice/coursework.md" class="md-nav__link">
        基于 LT-GEE 的武汉市森林扰动地图制作
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
        
      
      <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
      
      
        
          
            
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../BigData/">大数据系列课程</a>
          
            <label for="__nav_4">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          大数据系列课程
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
        
      
      <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_2" >
      
      
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
          地质大数据课后练习
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_2">
          <span class="md-nav__icon md-icon"></span>
          地质大数据课后练习
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
        
      
      <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_2_1" >
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4_2_1" id="__nav_4_2_1_label" tabindex="0">
          练习一 配置 Hadoop 环境
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_2_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_2_1">
          <span class="md-nav__icon md-icon"></span>
          练习一 配置 Hadoop 环境
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../BigData/GGBD/practice/01-aliyun/" class="md-nav__link">
        虚拟机服务器版
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../BigData/GGBD/practice/01-vm/" class="md-nav__link">
        阿里云服务器版
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
        
      
      <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_2_2" >
      
      
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4_2_2" id="__nav_4_2_2_label" tabindex="0">
          练习二 熟悉常用的 HBase 操作
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_2_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_2_2">
          <span class="md-nav__icon md-icon"></span>
          练习二 熟悉常用的 HBase 操作
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../BigData/GGBD/practice/02-1/" class="md-nav__link">
        准备工作
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../BigData/GGBD/practice/02-2/" class="md-nav__link">
        熟悉常用的 HBase 操作 - 提交版
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../BigData/GGBD/practice/02-3/" class="md-nav__link">
        熟悉常用的 HBase 操作 - 自制版
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
        
      
      <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_2_3" >
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4_2_3" id="__nav_4_2_3_label" tabindex="0">
          练习三 安装 Jupyter 并运行 pyspark
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_2_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_2_3">
          <span class="md-nav__icon md-icon"></span>
          练习三 安装 Jupyter 并运行 pyspark
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../BigData/GGBD/practice/03-1/" class="md-nav__link">
        安装 Jupyter 并运行 pyspark
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../BigData/GGBD/practice/03-2/" class="md-nav__link">
        MapReduce 编程初级实践
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../BigData/GGBD/practice/04/" class="md-nav__link">
        练习四 安装并使用 MongoDB
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../BigData/GGBD/practice/05/" class="md-nav__link">
        练习五 安装并使用 HIVE
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../BigData/BigData-reports/" class="md-nav__link">
        大数据理论与应用
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../BigData/DADM/notes/" class="md-nav__link">
        数据分析与数据挖掘
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
        
      
      <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5" >
      
      
        
          
            
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../LIS/">土地信息系统</a>
          
            <label for="__nav_5">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          土地信息系统
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../LIS/01/" class="md-nav__link">
        智慧城市空间信息服务平台时空数据建库
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" checked>
      
      
        
          
            
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../">地理信息系统三维建模</a>
          
            <label for="__nav_6">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          地理信息系统三维建模
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          课堂实验报告
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        课堂实验报告
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    实验环境
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1-opengl" class="md-nav__link">
    第1章 OpenGL 开发环境配置
  </a>
  
    <nav class="md-nav" aria-label="第1章 OpenGL 开发环境配置">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11" class="md-nav__link">
    1.1 章节说明
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12" class="md-nav__link">
    1.2 创建工程
  </a>
  
    <nav class="md-nav" aria-label="1.2 创建工程">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#121" class="md-nav__link">
    1.2.1 新建工程
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#122-mfc" class="md-nav__link">
    1.2.2 MFC 应用配置
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#123" class="md-nav__link">
    1.2.3 进入项目界面
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13-opengl" class="md-nav__link">
    1.3 添加 OpenGL 库
  </a>
  
    <nav class="md-nav" aria-label="1.3 添加 OpenGL 库">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#131-opengl" class="md-nav__link">
    1.3.1 拷贝 OpenGL  相关文件
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#132" class="md-nav__link">
    1.3.2 项目属性配置
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#14" class="md-nav__link">
    1.4 设置窗口样式
  </a>
  
    <nav class="md-nav" aria-label="1.4 设置窗口样式">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#141" class="md-nav__link">
    1.4.1 窗口风格介绍
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#142-precreatewindow" class="md-nav__link">
    1.4.2 修改 PreCreateWindow 函数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#143" class="md-nav__link">
    1.4.3 代码解释
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#15" class="md-nav__link">
    1.5 设置窗口像素格式
  </a>
  
    <nav class="md-nav" aria-label="1.5 设置窗口像素格式">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#151-rc" class="md-nav__link">
    1.5.1 RC 概念介绍
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#152" class="md-nav__link">
    1.5.2 定义窗口像素格式
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#16-rc" class="md-nav__link">
    1.6 产生 RC
  </a>
  
    <nav class="md-nav" aria-label="1.6 产生 RC">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#161" class="md-nav__link">
    1.6.1 设置当前产生绘制环境
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#162-oncreate" class="md-nav__link">
    1.6.2 OnCreate() 函数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#163-ondestroy" class="md-nav__link">
    1.6.3 OnDestroy() 函数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#164-onsize" class="md-nav__link">
    1.6.4 OnSize() 函数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#165-ondraw" class="md-nav__link">
    1.6.5 OnDraw() 函数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#166" class="md-nav__link">
    1.6.6 添加头文件
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#17" class="md-nav__link">
    1.7 章节小结
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-opengl" class="md-nav__link">
    第2章 OpenGL 简单建模
  </a>
  
    <nav class="md-nav" aria-label="第2章 OpenGL 简单建模">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21" class="md-nav__link">
    2.1 教材参考
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22" class="md-nav__link">
    2.2 三维物体绘制
  </a>
  
    <nav class="md-nav" aria-label="2.2 三维物体绘制">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#221" class="md-nav__link">
    2.2.1 添加头文件
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#222" class="md-nav__link">
    2.2.2 绘制三维物体
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#23" class="md-nav__link">
    2.3 几何图元绘制
  </a>
  
    <nav class="md-nav" aria-label="2.3 几何图元绘制">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#231" class="md-nav__link">
    2.3.1 几何图元绘制函数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#232" class="md-nav__link">
    2.3.2 控制细节
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#233" class="md-nav__link">
    2.3.3 运行结果
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#24" class="md-nav__link">
    2.4 绘制方向
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#25" class="md-nav__link">
    2.5 章节小结
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3" class="md-nav__link">
    第3章 物体的平移与旋转
  </a>
  
    <nav class="md-nav" aria-label="第3章 物体的平移与旋转">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31" class="md-nav__link">
    3.1 教材参考
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32" class="md-nav__link">
    3.2 物体平移
  </a>
  
    <nav class="md-nav" aria-label="3.2 物体平移">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#321" class="md-nav__link">
    3.2.1 函数介绍
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#322" class="md-nav__link">
    3.2.2 功能实现
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33" class="md-nav__link">
    3.3 物体旋转
  </a>
  
    <nav class="md-nav" aria-label="3.3 物体旋转">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#331" class="md-nav__link">
    3.3.1 函数介绍
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#332" class="md-nav__link">
    3.3.2 功能实现
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4" class="md-nav__link">
    第4章 坐标轴绘制
  </a>
  
    <nav class="md-nav" aria-label="第4章 坐标轴绘制">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41" class="md-nav__link">
    4.1 教材参考
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#42-xyz" class="md-nav__link">
    4.2 绘制 x，y，z 三轴坐标系
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5" class="md-nav__link">
    第5章 物体的光照与材质
  </a>
  
    <nav class="md-nav" aria-label="第5章 物体的光照与材质">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#51" class="md-nav__link">
    5.1 教材参考
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#52" class="md-nav__link">
    5.2 光照与材质
  </a>
  
    <nav class="md-nav" aria-label="5.2 光照与材质">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#521" class="md-nav__link">
    5.2.1 光照代码实现
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#522" class="md-nav__link">
    5.2.2 材质代码实现
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#523" class="md-nav__link">
    5.2.3 绘制结果
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#54" class="md-nav__link">
    5.4 制作工具栏按钮
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6" class="md-nav__link">
    第6章 绘制物体纹理
  </a>
  
    <nav class="md-nav" aria-label="第6章 绘制物体纹理">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#61" class="md-nav__link">
    6.1 教材参考
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#62" class="md-nav__link">
    6.2 创建纹理函数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#63" class="md-nav__link">
    6.3 功能实现
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#64-fopen" class="md-nav__link">
    6.4 fopen() 问题解决
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#65" class="md-nav__link">
    6.5 纹理坐标映射
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7" class="md-nav__link">
    第7章 地表模型建立
  </a>
  
    <nav class="md-nav" aria-label="第7章 地表模型建立">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#71" class="md-nav__link">
    7.1 模型建立准备
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#72" class="md-nav__link">
    7.2 功能实现
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#73" class="md-nav__link">
    7.3 绘制结果
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    实验环境
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1-opengl" class="md-nav__link">
    第1章 OpenGL 开发环境配置
  </a>
  
    <nav class="md-nav" aria-label="第1章 OpenGL 开发环境配置">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11" class="md-nav__link">
    1.1 章节说明
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12" class="md-nav__link">
    1.2 创建工程
  </a>
  
    <nav class="md-nav" aria-label="1.2 创建工程">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#121" class="md-nav__link">
    1.2.1 新建工程
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#122-mfc" class="md-nav__link">
    1.2.2 MFC 应用配置
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#123" class="md-nav__link">
    1.2.3 进入项目界面
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13-opengl" class="md-nav__link">
    1.3 添加 OpenGL 库
  </a>
  
    <nav class="md-nav" aria-label="1.3 添加 OpenGL 库">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#131-opengl" class="md-nav__link">
    1.3.1 拷贝 OpenGL  相关文件
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#132" class="md-nav__link">
    1.3.2 项目属性配置
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#14" class="md-nav__link">
    1.4 设置窗口样式
  </a>
  
    <nav class="md-nav" aria-label="1.4 设置窗口样式">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#141" class="md-nav__link">
    1.4.1 窗口风格介绍
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#142-precreatewindow" class="md-nav__link">
    1.4.2 修改 PreCreateWindow 函数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#143" class="md-nav__link">
    1.4.3 代码解释
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#15" class="md-nav__link">
    1.5 设置窗口像素格式
  </a>
  
    <nav class="md-nav" aria-label="1.5 设置窗口像素格式">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#151-rc" class="md-nav__link">
    1.5.1 RC 概念介绍
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#152" class="md-nav__link">
    1.5.2 定义窗口像素格式
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#16-rc" class="md-nav__link">
    1.6 产生 RC
  </a>
  
    <nav class="md-nav" aria-label="1.6 产生 RC">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#161" class="md-nav__link">
    1.6.1 设置当前产生绘制环境
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#162-oncreate" class="md-nav__link">
    1.6.2 OnCreate() 函数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#163-ondestroy" class="md-nav__link">
    1.6.3 OnDestroy() 函数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#164-onsize" class="md-nav__link">
    1.6.4 OnSize() 函数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#165-ondraw" class="md-nav__link">
    1.6.5 OnDraw() 函数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#166" class="md-nav__link">
    1.6.6 添加头文件
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#17" class="md-nav__link">
    1.7 章节小结
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-opengl" class="md-nav__link">
    第2章 OpenGL 简单建模
  </a>
  
    <nav class="md-nav" aria-label="第2章 OpenGL 简单建模">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21" class="md-nav__link">
    2.1 教材参考
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22" class="md-nav__link">
    2.2 三维物体绘制
  </a>
  
    <nav class="md-nav" aria-label="2.2 三维物体绘制">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#221" class="md-nav__link">
    2.2.1 添加头文件
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#222" class="md-nav__link">
    2.2.2 绘制三维物体
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#23" class="md-nav__link">
    2.3 几何图元绘制
  </a>
  
    <nav class="md-nav" aria-label="2.3 几何图元绘制">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#231" class="md-nav__link">
    2.3.1 几何图元绘制函数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#232" class="md-nav__link">
    2.3.2 控制细节
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#233" class="md-nav__link">
    2.3.3 运行结果
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#24" class="md-nav__link">
    2.4 绘制方向
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#25" class="md-nav__link">
    2.5 章节小结
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3" class="md-nav__link">
    第3章 物体的平移与旋转
  </a>
  
    <nav class="md-nav" aria-label="第3章 物体的平移与旋转">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31" class="md-nav__link">
    3.1 教材参考
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32" class="md-nav__link">
    3.2 物体平移
  </a>
  
    <nav class="md-nav" aria-label="3.2 物体平移">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#321" class="md-nav__link">
    3.2.1 函数介绍
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#322" class="md-nav__link">
    3.2.2 功能实现
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33" class="md-nav__link">
    3.3 物体旋转
  </a>
  
    <nav class="md-nav" aria-label="3.3 物体旋转">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#331" class="md-nav__link">
    3.3.1 函数介绍
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#332" class="md-nav__link">
    3.3.2 功能实现
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4" class="md-nav__link">
    第4章 坐标轴绘制
  </a>
  
    <nav class="md-nav" aria-label="第4章 坐标轴绘制">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41" class="md-nav__link">
    4.1 教材参考
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#42-xyz" class="md-nav__link">
    4.2 绘制 x，y，z 三轴坐标系
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5" class="md-nav__link">
    第5章 物体的光照与材质
  </a>
  
    <nav class="md-nav" aria-label="第5章 物体的光照与材质">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#51" class="md-nav__link">
    5.1 教材参考
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#52" class="md-nav__link">
    5.2 光照与材质
  </a>
  
    <nav class="md-nav" aria-label="5.2 光照与材质">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#521" class="md-nav__link">
    5.2.1 光照代码实现
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#522" class="md-nav__link">
    5.2.2 材质代码实现
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#523" class="md-nav__link">
    5.2.3 绘制结果
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#54" class="md-nav__link">
    5.4 制作工具栏按钮
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6" class="md-nav__link">
    第6章 绘制物体纹理
  </a>
  
    <nav class="md-nav" aria-label="第6章 绘制物体纹理">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#61" class="md-nav__link">
    6.1 教材参考
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#62" class="md-nav__link">
    6.2 创建纹理函数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#63" class="md-nav__link">
    6.3 功能实现
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#64-fopen" class="md-nav__link">
    6.4 fopen() 问题解决
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#65" class="md-nav__link">
    6.5 纹理坐标映射
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7" class="md-nav__link">
    第7章 地表模型建立
  </a>
  
    <nav class="md-nav" aria-label="第7章 地表模型建立">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#71" class="md-nav__link">
    7.1 模型建立准备
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#72" class="md-nav__link">
    7.2 功能实现
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#73" class="md-nav__link">
    7.3 绘制结果
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  
  



  
  


<h1 id="_1">地理信息系统三维建模课程报告<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h1>
<h2 id="_2">实验环境<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h2>
<ol>
<li>
<p>操作环境：虚拟机 Windows 10</p>
</li>
<li>
<p>操作软件：Visual Studio 2012</p>
</li>
</ol>
<h2 id="1-opengl">第1章 OpenGL 开发环境配置<a class="headerlink" href="#1-opengl" title="Permanent link">&para;</a></h2>
<h3 id="11">1.1 章节说明<a class="headerlink" href="#11" title="Permanent link">&para;</a></h3>
<p>&emsp;&emsp;使用 OpenGL 创建一个显示图像的 Windows 程序，通过这个程序学习用 OpenGL 编程的基本要求。</p>
<p>1、GDI（Graphics Device Interface）是通过设备句柄 (Device Context, DC) 来绘图，而 OpenGL 则需要绘制环境 (Rendering Context, RC)</p>
<p>2、每一个 GDI 命令需要传给它一个 DC，与 GDI 不同，OpenGL 使用当前绘制环境 (RC)。一旦在一个线程中指定了一个当前 RC，所有在此线程中的 OpenGL 命令都使用相同的当前 RC。虽然在单一窗口中可以使用多个 RC，但在单一线程中只有一个当前 RC。</p>
<p>3、本例将首先产生一个 OpenGL RC 并使之成为当前 RC，分为三个步骤：</p>
<ul>
<li>设置窗口像素格式</li>
<li>产生 RC</li>
<li>设置为当前 RC</li>
</ul>
<h3 id="12">1.2 创建工程<a class="headerlink" href="#12" title="Permanent link">&para;</a></h3>
<h4 id="121">1.2.1 新建工程<a class="headerlink" href="#121" title="Permanent link">&para;</a></h4>
<ol>
<li>首先，创建在电脑上创建一个名为 <code>GIS-3DM</code> 的文件夹，用于存放后续所有操作项目</li>
<li>打开 VS2012，顶部工具栏 → 文件 → 新建项目 → MFC 应用程序</li>
<li>将框架从默认的 4.5 改为 <code>.NET Framework 4</code></li>
<li>选择工程存放位置，并将工程命名为 <code>GLSample1</code>，如下图所示</li>
</ol>
<p><a class="glightbox" href="../img/image-20230223135834385.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="image-20230223135834385" src="../img/image-20230223135834385.png" /></a></p>
<h4 id="122-mfc">1.2.2 MFC 应用配置<a class="headerlink" href="#122-mfc" title="Permanent link">&para;</a></h4>
<ul>
<li>设置应用程序类型</li>
</ul>
<p><a class="glightbox" href="../img/image-20230223142036169.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="image-20230223142036169" src="../img/image-20230223142036169.png" /></a></p>
<ul>
<li>设置复合文档支持【维持默认即可】</li>
</ul>
<p><a class="glightbox" href="../img/image-20230223142221147.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="image-20230223142221147" src="../img/image-20230223142221147.png" /></a></p>
<ul>
<li>设置文档模板属性【维持默认即可】</li>
</ul>
<p><a class="glightbox" href="../img/image-20230223142310467.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="image-20230223142310467" src="../img/image-20230223142310467.png" /></a></p>
<ul>
<li>设置数据库支持【维持默认即可】</li>
</ul>
<p><a class="glightbox" href="../img/image-20230223142345317.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="image-20230223142345317" src="../img/image-20230223142345317.png" /></a></p>
<ul>
<li>设置用户界面功能【维持默认即可】</li>
</ul>
<p><a class="glightbox" href="../img/image-20230223142444476.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="image-20230223142444476" src="../img/image-20230223142444476.png" /></a></p>
<ul>
<li>设置高级功能【维持默认即可】</li>
</ul>
<p><a class="glightbox" href="../img/image-20230223142608025.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="image-20230223142608025" src="../img/image-20230223142608025.png" /></a></p>
<ul>
<li>设置生成的类【维持默认即可】</li>
</ul>
<p><a class="glightbox" href="../img/image-20230223142650361.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="image-20230223142650361" src="../img/image-20230223142650361.png" /></a></p>
<h4 id="123">1.2.3 进入项目界面<a class="headerlink" href="#123" title="Permanent link">&para;</a></h4>
<p><a class="glightbox" href="../img/image-20230223150431405.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="image-20230223150431405" src="../img/image-20230223150431405.png" /></a></p>
<h3 id="13-opengl">1.3 添加 OpenGL 库<a class="headerlink" href="#13-opengl" title="Permanent link">&para;</a></h3>
<p>&emsp;&emsp;接下来我们要将此工程所需的 OpenGL 文件和相关库加入到工程中。</p>
<h4 id="131-opengl">1.3.1 拷贝 OpenGL  相关文件<a class="headerlink" href="#131-opengl" title="Permanent link">&para;</a></h4>
<p>&emsp;&emsp;1、将相关的头文件拷贝到 <code>VS安装路径/VC/include/GL</code> 目录下</p>
<p><a class="glightbox" href="../img/image-20230301150053924.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="image-20230301150053924" src="../img/image-20230301150053924.png" /></a></p>
<p>&emsp;&emsp;2、将相关的 <code>*.lib</code> 文件拷贝到 <code>VS安装路径/VC/lib</code> 目录下</p>
<p><a class="glightbox" href="../img/image-20230301150358052.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="image-20230301150358052" src="../img/image-20230301150358052.png" /></a></p>
<p>&emsp;&emsp;3、将相关的 <code>*.DLL</code> 文件，拷贝到项目工程文件所在的目录下</p>
<p><a class="glightbox" href="../img/image-20230301152410557.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="image-20230301152410557" src="../img/image-20230301152410557.png" /></a></p>
<h4 id="132">1.3.2 项目属性配置<a class="headerlink" href="#132" title="Permanent link">&para;</a></h4>
<p>&emsp;&emsp;1、在顶部工具栏 → 项目 → 属性，进入项目设置界面，将字符集改为：“使用多字节字符集”</p>
<p><a class="glightbox" href="../img/image-20230223152154252.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="image-20230223152154252" src="../img/image-20230223152154252.png" /></a></p>
<p>&emsp;&emsp;2、左侧链接器栏 → 输入 → 附加依赖项，添加如下内容：</p>
<div class="highlight"><pre><span></span><code>OpenGL32.lib; glu32.lib; glaux.lib
</code></pre></div>
<p>【注】：各个库用空格分开，否则会出现链接错误。</p>
<p><a class="glightbox" href="../img/image-20230223152946378.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="image-20230223152946378" src="../img/image-20230223152946378.png" /></a></p>
<h3 id="14">1.4 设置窗口样式<a class="headerlink" href="#14" title="Permanent link">&para;</a></h3>
<h4 id="141">1.4.1 窗口风格介绍<a class="headerlink" href="#141" title="Permanent link">&para;</a></h4>
<p>&emsp;&emsp;OpenGL 需要对窗口添加两种风格：</p>
<ol>
<li><code>WS_CLIPCHILDREN</code>：创建父窗口使用的 Windows 风格，用于重绘时裁剪子窗口所覆盖的区域</li>
<li><code>WS_CLIPSIBLINGS</code>：创建子窗口使用的 Windows 风格，用于重绘时剪裁其他子窗口所覆盖的区域</li>
<li>这两个样式可以提高窗口的绘制效率和避免子控件之间的绘制冲突。</li>
</ol>
<h4 id="142-precreatewindow">1.4.2 修改 <code>PreCreateWindow</code> 函数<a class="headerlink" href="#142-precreatewindow" title="Permanent link">&para;</a></h4>
<p>&emsp;&emsp;右侧源文件 → 打开 <code>GLSample1View.cpp</code> 文件 → 找到 <code>PreCreateWindow</code> 函数并修改，如下图所示</p>
<div class="highlight"><pre><span></span><code><span class="n">BOOL</span><span class="w"> </span><span class="nf">CGLSample1View::PreCreateWindow</span><span class="p">(</span><span class="n">CREATESTRUCT</span><span class="o">&amp;</span><span class="w"> </span><span class="n">cs</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="c1">// TODO: 在此处通过修改</span>
<span class="w">    </span><span class="c1">//  CREATESTRUCT cs 来修改窗口类或样式</span>
<span class="w">    </span><span class="n">cs</span><span class="p">.</span><span class="n">style</span><span class="w"> </span><span class="o">|=</span><span class="w"> </span><span class="p">(</span><span class="n">WS_CLIPCHILDREN</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">WS_CLIPSIBLINGS</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">CView</span><span class="o">::</span><span class="n">PreCreateWindow</span><span class="p">(</span><span class="n">cs</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p><a class="glightbox" href="../img/image-20230223193627657.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="image-20230223193627657" src="../img/image-20230223193627657.png" /></a></p>
<h4 id="143">1.4.3 代码解释<a class="headerlink" href="#143" title="Permanent link">&para;</a></h4>
<p>&emsp;&emsp;这是一个 MFC 的视图类 <code>CGLSample1View</code> 中的 <code>PreCreateWindow</code> 函数。</p>
<ol>
<li>该函数在窗口创建之前被调用，可以在这里修改窗口的样式和类。</li>
<li>在该函数中，将 CREATESTRUCT 结构体中的样式 <code>cs.style</code> 进行修改，增加了 <code>WS_CLIPCHILDREN</code> 和 <code>WS_CLIPSIBLINGS</code> 样式</li>
<li>最后，函数调用 <code>CView::PreCreateWindow(cs)</code>来执行视图类的默认行为，并返回结果。</li>
</ol>
<h3 id="15">1.5 设置窗口像素格式<a class="headerlink" href="#15" title="Permanent link">&para;</a></h3>
<h4 id="151-rc">1.5.1 RC 概念介绍<a class="headerlink" href="#151-rc" title="Permanent link">&para;</a></h4>
<p>&emsp;&emsp;OpenGL 中，RC 指的是渲染上下文（Render Context），它是一个抽象概念，用于表示 OpenGL 的渲染状态和资源。</p>
<p>&emsp;&emsp;在 Windows 平台上，渲染上下文通常使用设备上下文（Device Context，简称 DC）和像素格式描述符（Pixel Format Descriptor）创建。</p>
<p>&emsp;&emsp;渲染上下文包括了 OpenGL 的所有状态，如当前绘制颜色、深度测试状态、光照状态、材质状态等。</p>
<p>&emsp;&emsp;当我们需要在 Windows 平台上使用 OpenGL 进行绘制时，需要创建一个渲染上下文（RC），并将其绑定到当前的设备上下文（DC）中。这样才能正确地进行 OpenGL 绘制操作。 </p>
<h4 id="152">1.5.2 定义窗口像素格式<a class="headerlink" href="#152" title="Permanent link">&para;</a></h4>
<p>&emsp;&emsp;产生一个 RC 的第一步是定义窗口的像素格式。像素格式决定窗口着所显示的图形在内存中是如何表示的。</p>
<p>&emsp;&emsp;由像素格式控制的参数包括：颜色深度、缓冲模式和所支持的绘画接口。在下面将有对这些参数的设置。</p>
<p>&emsp;&emsp;1、顶部工具栏 → 视图 → 类视图，此时右侧会出现对应的界面</p>
<p><a class="glightbox" href="../img/image-20230227090715653.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="image-20230227090715653" src="../img/image-20230227090715653.png" /></a></p>
<p>&emsp;&emsp;2、我们先在 <code>CGLSample1View</code> 的类中添加一个成员函数 <code>BOOL SetWindowPixelFormat(HDC hDC)</code></p>
<ul>
<li>鼠标右击 <code>CGLSample1View</code> → 添加 → 添加函数 → 修改各项参数 → 点击添加</li>
</ul>
<p><a class="glightbox" href="../img/image-20230301145403475.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="image-20230301145403475" src="../img/image-20230301145403475.png" /></a></p>
<p>&emsp;&emsp;3、设置函数内容</p>
<div class="highlight"><pre><span></span><code><span class="n">BOOL</span><span class="w"> </span><span class="nf">CGLSample1View::SetWindowPixelFormat</span><span class="p">(</span><span class="n">HDC</span><span class="w"> </span><span class="n">hDC</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="n">PIXELFORMATDESCRIPTOR</span><span class="w"> </span><span class="n">pfd</span><span class="o">=</span><span class="w"> </span><span class="c1">//pfd 告诉窗口我们所希望的东东</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="k">sizeof</span><span class="p">(</span><span class="n">PIXELFORMATDESCRIPTOR</span><span class="p">),</span><span class="c1">//file://上诉格式描述符的大小</span>
<span class="w">        </span><span class="mi">1</span><span class="p">,</span><span class="c1">// 版本号</span>
<span class="w">        </span><span class="n">PFD_DRAW_TO_WINDOW</span><span class="w"> </span><span class="o">|</span><span class="c1">// 格式必须支持窗口</span>
<span class="w">        </span><span class="n">PFD_SUPPORT_OPENGL</span><span class="w"> </span><span class="o">|</span><span class="c1">// 格式必须支持OpenGL</span>
<span class="w">        </span><span class="n">PFD_DOUBLEBUFFER</span><span class="p">,</span><span class="c1">// 必须支持双缓冲</span>
<span class="w">        </span><span class="n">PFD_TYPE_RGBA</span><span class="p">,</span><span class="c1">// 申请 RGBA 格式</span>
<span class="w">        </span><span class="mi">32</span><span class="p">,</span><span class="c1">// 选定色彩深度</span>
<span class="w">        </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="c1">// 忽略的色彩位</span>
<span class="w">        </span><span class="mi">0</span><span class="p">,</span><span class="c1">// 无Alpha缓存</span>
<span class="w">        </span><span class="mi">0</span><span class="p">,</span><span class="c1">// 忽略Shift Bit</span>
<span class="w">        </span><span class="mi">0</span><span class="p">,</span><span class="c1">// 无聚集缓存</span>
<span class="w">        </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="c1">// 忽略聚集位</span>
<span class="w">        </span><span class="mi">16</span><span class="p">,</span><span class="c1">// 16位 Z-缓存 (深度缓存)</span>
<span class="w">        </span><span class="mi">0</span><span class="p">,</span><span class="c1">// 无模板缓存</span>
<span class="w">        </span><span class="mi">0</span><span class="p">,</span><span class="c1">// 无辅助缓存</span>
<span class="w">        </span><span class="n">PFD_MAIN_PLANE</span><span class="p">,</span><span class="c1">// 主绘图层</span>
<span class="w">        </span><span class="mi">0</span><span class="p">,</span><span class="c1">// 保留</span>
<span class="w">        </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="c1">// 忽略层遮罩</span>
<span class="w">    </span><span class="p">};</span><span class="w"> </span>

<span class="w">    </span><span class="cm">/*if (!(hDC=GetDC(hWnd))) //取得设备描述表了么?</span>
<span class="cm">    {</span>
<span class="cm">    // 重置显示区</span>
<span class="cm">    MessageBox(NULL,&quot;Can&#39;t Create A GL Device Context.&quot;,&quot;ERROR&quot;,MB_OK|MB_ICONEXCLAMATION);</span>
<span class="cm">    return FALSE; // 返回 FALSE</span>
<span class="cm">    } */</span>
<span class="w">    </span><span class="c1">// 设法为OpenGL窗口取得设备描述表后，我们尝试找到对应与此前我们选定的象素格式的象素格式。如果Windows不能找到的话，弹出错误消息，并退出程序(返回FALSE)。 </span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="n">m_GLPixelIndex</span><span class="o">=</span><span class="n">ChoosePixelFormat</span><span class="p">(</span><span class="n">hDC</span><span class="p">,</span><span class="o">&amp;</span><span class="n">pfd</span><span class="p">)))</span><span class="w"> </span><span class="c1">// Windows 找到相应的象素格式了吗?</span>
<span class="w">    </span><span class="p">{</span><span class="w"> </span><span class="c1">// 重置显示区</span>
<span class="w">        </span><span class="n">AfxMessageBox</span><span class="p">(</span><span class="s">&quot;Can&#39;t Find A Suitable PixelFormat.&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">FALSE</span><span class="p">;</span><span class="w"> </span><span class="c1">// 返回 FALSE</span>
<span class="w">    </span><span class="p">}</span><span class="w">  </span>
<span class="w">    </span><span class="c1">// Windows 找到相应的象素格式后，尝试设置象素格式。如果无法设置，弹出错误消息，并退出程序(返回FALSE)。 </span>
<span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">SetPixelFormat</span><span class="p">(</span><span class="n">hDC</span><span class="p">,</span><span class="n">m_GLPixelIndex</span><span class="p">,</span><span class="o">&amp;</span><span class="n">pfd</span><span class="p">))</span><span class="w"> </span><span class="c1">// 能够设置象素格式么?</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// 重置显示区</span>
<span class="w">        </span><span class="n">AfxMessageBox</span><span class="p">(</span><span class="s">&quot;Can&#39;t Set The PixelFormat.&quot;</span><span class="w"> </span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">FALSE</span><span class="p">;</span><span class="w">   </span>
<span class="w">    </span><span class="p">}</span><span class="w">    </span>
<span class="w">    </span><span class="n">m_hGLContext</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">wglCreateContext</span><span class="p">(</span><span class="n">hDC</span><span class="p">);</span><span class="w"> </span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">TRUE</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p>&emsp;&emsp;4、右侧类视图 → 双击 <code>CGLSample1View</code> 类 → 找到对应位置添加如下代码：</p>
<div class="highlight"><pre><span></span><code><span class="kt">int</span><span class="w"> </span><span class="n">m_GLPixelIndex</span><span class="p">;</span>
<span class="n">HGLRC</span><span class="w"> </span><span class="n">m_hGLContext</span><span class="p">;</span>
<span class="kt">float</span><span class="w"> </span><span class="n">movex</span><span class="p">,</span><span class="n">movey</span><span class="p">,</span><span class="n">movez</span><span class="p">;</span>
<span class="kt">float</span><span class="w"> </span><span class="n">m_rotatex</span><span class="p">,</span><span class="n">m_rotatey</span><span class="p">,</span><span class="n">m_rotatez</span><span class="p">;</span>
</code></pre></div>
<p><a class="glightbox" href="../img/image-20230227102655251.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="image-20230227102655251" src="../img/image-20230227102655251.png" /></a></p>
<p>&emsp;&emsp;5、构造初始化类</p>
<ul>
<li>双击右侧 <code>CGLSample1View()</code> 方法，添加如下代码</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="n">CGLSample1View</span><span class="o">::</span><span class="n">CGLSample1View</span><span class="p">()</span>
<span class="p">{</span>
<span class="w">    </span><span class="c1">// TODO: 在此处添加构造代码</span>
<span class="w">    </span><span class="n">m_hGLContext</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">;</span>
<span class="w">    </span><span class="n">m_GLPixelIndex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span>
<span class="w">    </span><span class="n">movex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">movey</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">movez</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="n">m_rotatex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="n">m_rotatey</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="n">m_rotatez</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p><a class="glightbox" href="../img/image-20230227104125780.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="image-20230227104125780" src="../img/image-20230227104125780.png" /></a></p>
<p>&emsp;&emsp;现在像素格式已经设定，我们下一步工作是产生绘制环境 (RC) 并使之成为当前绘制环境。</p>
<h3 id="16-rc">1.6 产生 RC<a class="headerlink" href="#16-rc" title="Permanent link">&para;</a></h3>
<h4 id="161">1.6.1 设置当前产生绘制环境<a class="headerlink" href="#161" title="Permanent link">&para;</a></h4>
<p>&emsp;&emsp;1、在 <code>CGLSample1View</code> 中加入一个成员函数 <code>BOOL CreateViewGLContext(HDC hDC)</code>，使之如下所示：</p>
<ul>
<li>双击 <code>CGLSample1View</code> ，在对应位置添加如下代码：</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="n">BOOL</span><span class="w"> </span><span class="nf">CGLSample1View::CreateViewGLContext</span><span class="p">(</span><span class="n">HDC</span><span class="w"> </span><span class="n">hDC</span><span class="p">)</span>
<span class="p">{</span><span class="w"> </span>
<span class="w">    </span><span class="n">m_hGLContext</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">wglCreateContext</span><span class="p">(</span><span class="n">hDC</span><span class="p">);</span><span class="c1">// 用当前产生绘制环境(RC)</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">m_hGLContext</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">FALSE</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">wglMakeCurrent</span><span class="p">(</span><span class="n">hDC</span><span class="p">,</span><span class="w"> </span><span class="n">m_hGLContext</span><span class="p">)</span><span class="o">==</span><span class="n">FALSE</span><span class="p">)</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">FALSE</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">TRUE</span><span class="p">;</span><span class="w"> </span>
<span class="p">}</span>
</code></pre></div>
<p>保护型的成员变量 HGLRC <code>m_hGLContext</code>；HGLRC 是一个指向 rendering context 的句柄。</p>
<p><a class="glightbox" href="../img/image-20230227111439123.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="image-20230227111439123" src="../img/image-20230227111439123.png" /></a></p>
<p>接下来，我们要添加一系列函数以完善项目程序。</p>
<h4 id="162-oncreate">1.6.2 <code>OnCreate()</code> 函数<a class="headerlink" href="#162-oncreate" title="Permanent link">&para;</a></h4>
<p>&emsp;&emsp;1、用 <code>ClassWizard</code> 添加 <code>WM_CREATE</code> 的消息处理函数</p>
<ul>
<li>右击 <code>CGLSample1View</code> → 类向导 → 消息 → 双击 <code>WM_CREATE</code> → 点击确认</li>
<li>此时在文件中会出现对应的函数，我们后续会对其进行处理</li>
</ul>
<p><a class="glightbox" href="../img/image-20230227105348277.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="image-20230227105348277" src="../img/image-20230227105348277.png" /></a></p>
<p>&emsp;&emsp;2、将内容修改为如下内容</p>
<div class="highlight"><pre><span></span><code><span class="kt">int</span><span class="w"> </span><span class="nf">CGLSample1View::OnCreate</span><span class="p">(</span><span class="n">LPCREATESTRUCT</span><span class="w"> </span><span class="n">lpCreateStruct</span><span class="p">)</span>
<span class="p">{</span><span class="w"> </span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">CView</span><span class="o">::</span><span class="n">OnCreate</span><span class="p">(</span><span class="n">lpCreateStruct</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">-1</span><span class="p">)</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span>
<span class="w">    </span><span class="n">HWND</span><span class="w"> </span><span class="n">hWnd</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GetSafeHwnd</span><span class="p">();</span>
<span class="w">    </span><span class="n">HDC</span><span class="w"> </span><span class="n">hDC</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">GetDC</span><span class="p">(</span><span class="n">hWnd</span><span class="p">);</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">SetWindowPixelFormat</span><span class="w"> </span><span class="p">(</span><span class="n">hDC</span><span class="p">)</span><span class="o">==</span><span class="n">FALSE</span><span class="p">)</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">CreateViewGLContext</span><span class="w"> </span><span class="p">(</span><span class="n">hDC</span><span class="p">)</span><span class="o">==</span><span class="n">FALSE</span><span class="p">)</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span>
<span class="p">}</span>
</code></pre></div>
<h4 id="163-ondestroy">1.6.3 <code>OnDestroy()</code> 函数<a class="headerlink" href="#163-ondestroy" title="Permanent link">&para;</a></h4>
<ul>
<li>添加 <code>WM_DESTROY</code> 的消息处理函数 <code>OnDestroy( )</code>，<strong>添加过程同 1.6.2</strong>，并将其修改为如下内容：</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="kt">void</span><span class="w"> </span><span class="nf">CGLSample1View::OnDestroy</span><span class="p">()</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">CView</span><span class="o">::</span><span class="n">OnDestroy</span><span class="p">();</span>

<span class="w">    </span><span class="c1">// TODO: 在此处添加消息处理程序代码</span>
<span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">wglGetCurrentContext</span><span class="p">()</span><span class="o">!=</span><span class="nb">NULL</span><span class="p">)</span>
<span class="w">    </span><span class="p">{</span><span class="w"> </span><span class="c1">// make the rendering context not current</span>
<span class="w">        </span><span class="n">wglMakeCurrent</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span><span class="w"> </span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">m_hGLContext</span><span class="o">!=</span><span class="nb">NULL</span><span class="p">)</span>
<span class="w">    </span><span class="p">{</span><span class="w"> </span>
<span class="w">        </span><span class="n">wglDeleteContext</span><span class="p">(</span><span class="n">m_hGLContext</span><span class="p">);</span>
<span class="w">        </span><span class="n">m_hGLContext</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h4 id="164-onsize">1.6.4 <code>OnSize()</code> 函数<a class="headerlink" href="#164-onsize" title="Permanent link">&para;</a></h4>
<ul>
<li>添加 <code>WM_SIZE</code> 的消息处理函数 <code>OnSize( )</code>，<strong>添加过程同 5.2</strong>，并将其修改为如下内容：</li>
</ul>
<div class="highlight"><pre><span></span><code>void CGLSample1View::OnSize(UINT nType, int cx, int cy) 
{
    CView::OnSize(nType, cx, cy); 

    // TODO: 在此处添加消息处理程序代码
    CClientDC dc(this); 
    GLsizei width, height;
    GLdouble aspect;
    width = cx;
    height = cy;
    if (cy==0)
        aspect=(GLdouble)width;
    else
        aspect=(GLdouble)width/(GLdouble)height; 
    wglMakeCurrent(dc.m_hDC ,m_hGLContext);
    glViewport(0, 0, width, height);
    glViewport (0,0,cx,cy);
     //gluLookAt(300,300,3000,0,0,0,1,0,0);

    glMatrixMode(GL_PROJECTION);
    glLoadIdentity();   
    glOrtho(-500, 500.0*aspect, -500, 500.0,-500,500);
    glMatrixMode(GL_MODELVIEW);
    glLoadIdentity(); 
    glClearColor(0.99F,0.00006369f,0.0006301F,0);
    wglMakeCurrent(NULL,NULL); 
}
</code></pre></div>
<h4 id="165-ondraw">1.6.5 <code>OnDraw()</code> 函数<a class="headerlink" href="#165-ondraw" title="Permanent link">&para;</a></h4>
<ul>
<li>在 <code>CGLSample1View.cpp</code> 文件中找到函数 <code>OnDraw( )</code>，将其修改为如下内容</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="kt">void</span><span class="w"> </span><span class="nf">CGLSample1View::OnDraw</span><span class="p">(</span><span class="n">CDC</span><span class="o">*</span><span class="w"> </span><span class="n">pDC</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">CGLSample1Doc</span><span class="o">*</span><span class="w"> </span><span class="n">pDoc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GetDocument</span><span class="p">();</span>
<span class="w">    </span><span class="n">ASSERT_VALID</span><span class="p">(</span><span class="n">pDoc</span><span class="p">);</span>

<span class="w">    </span><span class="n">HWND</span><span class="w"> </span><span class="n">hwnd</span><span class="o">=</span><span class="n">GetSafeHwnd</span><span class="p">();</span>
<span class="w">    </span><span class="n">HDC</span><span class="w"> </span><span class="n">hdc</span><span class="o">=::</span><span class="n">GetDC</span><span class="p">(</span><span class="n">hwnd</span><span class="p">);</span>
<span class="w">    </span><span class="n">wglMakeCurrent</span><span class="p">(</span><span class="n">hdc</span><span class="p">,</span><span class="n">m_hGLContext</span><span class="p">);</span><span class="w"> </span>
<span class="w">    </span><span class="c1">//glFrontFace(GL_CCW);缺省</span>
<span class="w">    </span><span class="c1">//glFrontFace(GL_CW); </span>
<span class="w">    </span><span class="n">glPolygonMode</span><span class="p">(</span><span class="n">GL_FRONT_AND_BACK</span><span class="p">,</span><span class="n">GL_FILL</span><span class="p">);</span>
<span class="w">    </span><span class="c1">// glPolygonMode(GL_FRONT,GL_LINE);</span>
<span class="w">    </span><span class="n">glShadeModel</span><span class="p">(</span><span class="n">GL_SMOOTH</span><span class="p">);</span><span class="w"> </span>
<span class="w">    </span><span class="n">glEnable</span><span class="p">(</span><span class="n">GL_AUTO_NORMAL</span><span class="p">);</span>
<span class="w">    </span><span class="n">glEnable</span><span class="p">(</span><span class="n">GL_NORMALIZE</span><span class="p">);</span><span class="w"> </span>
<span class="w">    </span><span class="n">glClear</span><span class="p">(</span><span class="n">GL_COLOR_BUFFER_BIT</span><span class="o">|</span><span class="n">GL_DEPTH_BUFFER_BIT</span><span class="p">);</span>
<span class="w">    </span><span class="n">glClearColor</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span>
<span class="w">    </span><span class="n">glClear</span><span class="p">(</span><span class="n">GL_COLOR_BUFFER_BIT</span><span class="p">);</span><span class="w"> </span>
<span class="w">    </span><span class="c1">//Light(); </span>
<span class="w">    </span><span class="n">glTranslatef</span><span class="p">(</span><span class="n">movex</span><span class="p">,</span><span class="o">-</span><span class="n">movey</span><span class="p">,</span><span class="n">movez</span><span class="p">);</span><span class="w"> </span>

<span class="w">    </span><span class="n">glRotatef</span><span class="p">(</span><span class="n">m_rotatex</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">);</span>
<span class="w">    </span><span class="n">glRotatef</span><span class="p">(</span><span class="n">m_rotatey</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">);</span>
<span class="w">    </span><span class="n">glRotatef</span><span class="p">(</span><span class="n">m_rotatez</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span>
<span class="w">    </span><span class="o">::</span><span class="n">glPushMatrix</span><span class="p">();</span><span class="w"> </span>
<span class="w">    </span><span class="n">glutSolidTeapot</span><span class="p">(</span><span class="mi">80</span><span class="p">);</span><span class="w"> </span>
<span class="w">    </span><span class="n">glBegin</span><span class="p">(</span><span class="n">GL_POLYGON</span><span class="p">);</span>
<span class="w">    </span><span class="n">glColor4f</span><span class="p">(</span><span class="mf">1.0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0f</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0f</span><span class="p">);</span>
<span class="w">    </span><span class="n">glVertex3f</span><span class="p">(</span><span class="mf">10.0f</span><span class="p">,</span><span class="w"> </span><span class="mf">5.0f</span><span class="p">,</span><span class="mi">10</span><span class="p">);</span>

<span class="w">    </span><span class="n">glColor4f</span><span class="p">(</span><span class="mf">0.0f</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0f</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0f</span><span class="p">);</span>
<span class="w">    </span><span class="n">glVertex3f</span><span class="p">(</span><span class="mf">500.0f</span><span class="p">,</span><span class="w"> </span><span class="mf">360.0f</span><span class="p">,</span><span class="mi">-20</span><span class="p">);</span>

<span class="w">    </span><span class="n">glColor4f</span><span class="p">(</span><span class="mf">0.0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0f</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0f</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0f</span><span class="p">);</span>
<span class="w">    </span><span class="n">glVertex3f</span><span class="p">(</span><span class="mf">450.0f</span><span class="p">,</span><span class="w"> </span><span class="mf">500.0f</span><span class="p">,</span><span class="mi">100</span><span class="p">);</span>

<span class="w">    </span><span class="n">glEnd</span><span class="p">();</span>

<span class="w">    </span><span class="c1">//ShowPoints();</span>
<span class="w">    </span><span class="n">SwapBuffers</span><span class="p">(</span><span class="n">hdc</span><span class="p">);</span>
<span class="w">    </span><span class="n">glFlush</span><span class="p">();</span>
<span class="w">    </span><span class="n">wglMakeCurrent</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span><span class="nb">NULL</span><span class="p">);</span><span class="w"> </span>

<span class="w">    </span><span class="n">glClear</span><span class="p">(</span><span class="n">GL_COLOR_BUFFER_BIT</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">GL_DEPTH_BUFFER_BIT</span><span class="w"> </span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<h4 id="166">1.6.6 添加头文件<a class="headerlink" href="#166" title="Permanent link">&para;</a></h4>
<ul>
<li>在 <code>CGLSample1View.cpp</code> 的 CPP 头文件包含位置中，加入如下三行代码：</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;gl/glut.h&quot;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;gl/gl.h&quot;</span><span class="c1"> </span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;gl/glu.h&quot;</span>
</code></pre></div>
<p><a class="glightbox" href="../img/image-20230301111716020.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="image-20230301111716020" src="../img/image-20230301111716020.png" /></a></p>
<h3 id="17">1.7 章节小结<a class="headerlink" href="#17" title="Permanent link">&para;</a></h3>
<p>&emsp;&emsp;至此，我们已经构造好了框架，使程序可以利用 OpenGL 进行画图了。我们在程序开头产生了一个 RC，自始自终都使用它。这与大多数的 GDI 程序不同。在 GDI 程序中，DC 在需要时才产生，并且是画完立刻释放掉。实际上，RC 也可以这样做；但要记住，产生一个 RC 需要很多处理器时间。因此，要想获得高性能流畅的图像和图形，最好只产生 RC 一次，并始终用它，直到程序结束。</p>
<p>&emsp;&emsp;<code>CreateViewGLContext</code> 产生 RC 并使之成为当前 RC。<code>WglCreateContext</code> 返回一个 RC 的句柄。在调用 <code>CreateViewGLContext</code> 之前，我们必须用 <code>SetWindowPixelFormat(hDC)</code> 将与设备相关的像素格式设置好。</p>
<p>&emsp;&emsp;<code>wglMakeCurrent</code> 将 RC 设置成当前 RC。传入此函数的 DC 不一定就是我们产生 RC 的那个 DC，但二者的设备句柄 (Device Context) 和像素格式必须一致。假如我们在调用 <code>wglMakeforCurrent</code> 之前已经有另外一个 RC 存在，<code>wglMakeforCurrent</code> 就会把旧的 RC 冲掉，并将新 RC 设置为当前 RC。另外我们可以用 <code>wglMakeCurrent(NULL, NULL)</code> 来消除当前 RC。</p>
<p>&emsp;&emsp;最后，我们要在 <code>OnDestroy</code> 中把绘制环境删除掉。但在删除 RC 之前，必须确定它不是当前句柄。我们是通过 <code>wglGetCurrentContext</code> 来了解是否存在一个当前绘制环境的。假如存在，那么用 <code>wglMakeCurrent(NULL, NULL)</code>来把它去掉。然后就可以通过 <code>wglDelete-Context</code> 来删除 RC 了。这时允许视类删除 DC 才是安全的。注：一般来说，使用的都是单线程的程序，产生的 RC 就是线程当前的 RC，不需要关注上述这一点。但如果使用的是多线程的程序，那我们就特别需要注意这一点了，否则会出现意想不到的后果。</p>
<ul>
<li>运行结果如下：</li>
</ul>
<p><a class="glightbox" href="../img/image-20230301164832841.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="image-20230301164832841" src="../img/image-20230301164832841.png" /></a></p>
<h2 id="2-opengl">第2章 OpenGL 简单建模<a class="headerlink" href="#2-opengl" title="Permanent link">&para;</a></h2>
<h3 id="21">2.1 教材参考<a class="headerlink" href="#21" title="Permanent link">&para;</a></h3>
<ul>
<li>OpenGL 教程 / OpenGL 基础图形编程 / 第六章、第七章 OpenGL 辅助库与建模</li>
</ul>
<h3 id="22">2.2 三维物体绘制<a class="headerlink" href="#22" title="Permanent link">&para;</a></h3>
<h4 id="221">2.2.1 添加头文件<a class="headerlink" href="#221" title="Permanent link">&para;</a></h4>
<p>首先，我们要在 <code>GLSample1View.cpp</code> 文件顶部添加 <code>glaux.h</code> 头文件，否则后面绘制时会报错。</p>
<div class="highlight"><pre><span></span><code>#include &quot;gl/glaux.h&quot;
</code></pre></div>
<p><a class="glightbox" href="../img/image-20230315214004375.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="image-20230315214004375" src="../img/image-20230315214004375.png" /></a></p>
<h4 id="222">2.2.2 绘制三维物体<a class="headerlink" href="#222" title="Permanent link">&para;</a></h4>
<p>接下来，我们在 <code>OnDraw()</code> 函数上方，添加 <code>DrawObject()</code> 函数用于绘制物体，其内容如下：</p>
<div class="highlight"><pre><span></span><code><span class="kt">void</span><span class="w"> </span><span class="nf">CGLSample1View::DrawObject</span><span class="p">()</span>
<span class="p">{</span><span class="w"> </span><span class="c1">// 网状体（wire）和实心体（solid）</span>
<span class="w">    </span><span class="c1">// 网状球</span>
<span class="w">    </span><span class="n">glPushMatrix</span><span class="p">();</span>
<span class="w">    </span><span class="n">glTranslatef</span><span class="p">(</span><span class="mi">-250</span><span class="p">,</span><span class="w"> </span><span class="mi">150</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="w">    </span><span class="n">auxWireSphere</span><span class="p">(</span><span class="mi">90</span><span class="p">);</span>
<span class="w">    </span><span class="n">glPopMatrix</span><span class="p">();</span>
<span class="w">    </span><span class="c1">// 实心球</span>
<span class="w">    </span><span class="n">glPushMatrix</span><span class="p">();</span>
<span class="w">    </span><span class="n">glTranslatef</span><span class="p">(</span><span class="mi">-250</span><span class="p">,</span><span class="w"> </span><span class="mi">-150</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="w">    </span><span class="n">auxSolidSphere</span><span class="p">(</span><span class="mi">90</span><span class="p">);</span>
<span class="w">    </span><span class="n">glPopMatrix</span><span class="p">();</span>
<span class="w">    </span><span class="c1">// 实心茶壶</span>
<span class="w">    </span><span class="n">glPushMatrix</span><span class="p">();</span>
<span class="w">    </span><span class="n">glTranslatef</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">150</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="w">    </span><span class="n">glutSolidTeapot</span><span class="p">(</span><span class="mi">100</span><span class="p">);</span>
<span class="w">    </span><span class="n">glPopMatrix</span><span class="p">();</span>
<span class="w">    </span><span class="c1">// 网状茶壶</span>
<span class="w">    </span><span class="n">glPushMatrix</span><span class="p">();</span>
<span class="w">    </span><span class="n">glTranslatef</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">-150</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="w">    </span><span class="n">auxWireTeapot</span><span class="p">(</span><span class="mi">100</span><span class="p">);</span>
<span class="w">    </span><span class="n">glPopMatrix</span><span class="p">();</span>
<span class="w">    </span><span class="c1">// 实心十二面体</span>
<span class="w">    </span><span class="n">glPushMatrix</span><span class="p">();</span>
<span class="w">    </span><span class="n">glTranslatef</span><span class="p">(</span><span class="mi">250</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="w">    </span><span class="n">auxSolidDodecahedron</span><span class="p">(</span><span class="mi">120</span><span class="p">);</span>
<span class="w">    </span><span class="n">glPopMatrix</span><span class="p">();</span>
<span class="w">    </span><span class="c1">// 网状十二面体</span>
<span class="w">    </span><span class="n">glPushMatrix</span><span class="p">();</span>
<span class="w">    </span><span class="n">glTranslatef</span><span class="p">(</span><span class="mi">500</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="w">    </span><span class="n">auxWireDodecahedron</span><span class="p">(</span><span class="mi">120</span><span class="p">);</span>
<span class="w">    </span><span class="n">glPopMatrix</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div>
<p>然后，必须在 <code>CGLSample1View</code> 类的头文件中公开声明 <code>DrawObject()</code> 函数才能正常使用</p>
<p><a class="glightbox" href="../img/image-20230315223354750.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="image-20230315223354750" src="../img/image-20230315223354750.png" /></a></p>
<p>接着在 <code>CGLSample1View</code> 类的 <code>OnDraw()</code> 函数中调用 <code>DrawObject()</code> 函数</p>
<div class="highlight"><pre><span></span><code><span class="n">DrawObject</span><span class="p">();</span>
</code></pre></div>
<p>最后，运行项目即可在把多个图形同时绘制好显示在屏幕上</p>
<p><a class="glightbox" href="../img/image-20230315223652543.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="image-20230315223652543" src="../img/image-20230315223652543.png" /></a></p>
<h3 id="23">2.3 几何图元绘制<a class="headerlink" href="#23" title="Permanent link">&para;</a></h3>
<h4 id="231">2.3.1 几何图元绘制函数<a class="headerlink" href="#231" title="Permanent link">&para;</a></h4>
<p>下面我们进行几何图元的绘制，先创建 <code>DrawGeometry()</code> 函数用于绘制几何图元，后续操作步骤同上，这里不再赘述</p>
<ul>
<li>创建函数；声明函数；调用函数</li>
<li>函数内容如下，包括点、线、多边形、闭合三角形，四种图元的绘制</li>
<li>这里我们绘制时，以 <em>==</em><em>左上角</em><em>==</em> 为起始点，以 <em>==</em><em>逆时针</em><em>==</em> 方向进行绘制</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="kt">void</span><span class="w"> </span><span class="nf">CGLSample1View::DrawGeometry</span><span class="p">()</span>
<span class="p">{</span>
<span class="w">    </span><span class="c1">// 设置颜色</span>
<span class="w">    </span><span class="n">glColor3f</span><span class="p">(</span><span class="mf">1.0f</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0f</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0f</span><span class="p">);</span>
<span class="w">    </span><span class="c1">// 绘制 GL_POINTS</span>
<span class="w">    </span><span class="c1">// 控制点的大小</span>
<span class="w">    </span><span class="n">glPointSize</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span>
<span class="w">    </span><span class="n">glBegin</span><span class="p">(</span><span class="n">GL_POINTS</span><span class="p">);</span>
<span class="w">        </span><span class="n">glVertex3f</span><span class="p">(</span><span class="mi">-100</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="w">        </span><span class="n">glVertex3f</span><span class="p">(</span><span class="mi">-100</span><span class="p">,</span><span class="w"> </span><span class="mi">-100</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="w">        </span><span class="n">glVertex3f</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">-100</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="w">        </span><span class="n">glVertex3f</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="w">    </span><span class="n">glEnd</span><span class="p">();</span>
<span class="w">    </span><span class="c1">// 绘制 GL_LINES</span>
<span class="w">    </span><span class="c1">// 控制线的粗细</span>
<span class="w">    </span><span class="n">glLineWidth</span><span class="p">(</span><span class="mi">8</span><span class="p">);</span>
<span class="w">    </span><span class="n">glBegin</span><span class="p">(</span><span class="n">GL_LINES</span><span class="p">);</span>
<span class="w">        </span><span class="n">glVertex3f</span><span class="p">(</span><span class="mi">-100</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="w">        </span><span class="n">glVertex3f</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="w">        </span><span class="n">glVertex3f</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">-100</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="w">        </span><span class="n">glVertex3f</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="w">    </span><span class="n">glEnd</span><span class="p">();</span>
<span class="w">    </span><span class="c1">// 绘制 GL_POLYGON</span>
<span class="w">    </span><span class="n">glBegin</span><span class="p">(</span><span class="n">GL_POLYGON</span><span class="p">);</span>
<span class="w">        </span><span class="n">glVertex3f</span><span class="p">(</span><span class="mi">120</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="w">        </span><span class="n">glVertex3f</span><span class="p">(</span><span class="mi">120</span><span class="p">,</span><span class="w"> </span><span class="mi">-50</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="w">        </span><span class="n">glVertex3f</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span><span class="w"> </span><span class="mi">-50</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="w">        </span><span class="n">glVertex3f</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="w">    </span><span class="n">glEnd</span><span class="p">();</span>
<span class="w">    </span><span class="c1">// 绘制 GL_TRIANGLES</span>
<span class="w">    </span><span class="n">glBegin</span><span class="p">(</span><span class="n">GL_TRIANGLES</span><span class="p">);</span>
<span class="w">        </span><span class="n">glVertex3f</span><span class="p">(</span><span class="mi">250</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="w">        </span><span class="n">glVertex3f</span><span class="p">(</span><span class="mi">300</span><span class="p">,</span><span class="w"> </span><span class="mi">-50</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="w">        </span><span class="n">glVertex3f</span><span class="p">(</span><span class="mi">300</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="w">        </span><span class="n">glVertex3f</span><span class="p">(</span><span class="mi">350</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="w">        </span><span class="n">glVertex3f</span><span class="p">(</span><span class="mi">400</span><span class="p">,</span><span class="w"> </span><span class="mi">-50</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="w">        </span><span class="n">glVertex3f</span><span class="p">(</span><span class="mi">400</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="w">    </span><span class="n">glEnd</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div>
<h4 id="232">2.3.2 控制细节<a class="headerlink" href="#232" title="Permanent link">&para;</a></h4>
<p>在 <code>DrawGeometry()</code> 函数中，我们可以控制绘制图元的颜色和大小，相关代码如下：</p>
<div class="highlight"><pre><span></span><code><span class="c1">// 设置颜色</span>
<span class="n">glColor3f</span><span class="p">(</span><span class="mf">1.0f</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0f</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0f</span><span class="p">);</span>
<span class="c1">// 控制点的大小</span>
<span class="n">glPointSize</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span>
<span class="c1">// 控制线的粗细</span>
<span class="n">glLineWidth</span><span class="p">(</span><span class="mi">8</span><span class="p">);</span>
</code></pre></div>
<h4 id="233">2.3.3 运行结果<a class="headerlink" href="#233" title="Permanent link">&para;</a></h4>
<p>要注意的是，我们在运行绘制前，先把上一步的绘制函数 <code>DrawObject()</code> 注释掉：</p>
<p><a class="glightbox" href="../img/image-20230315230039840.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="image-20230315230039840" src="../img/image-20230315230039840.png" /></a></p>
<p>此时再运行，绘制结果如下图所示：</p>
<p><a class="glightbox" href="../img/image-20230315232951080.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="image-20230315232951080" src="../img/image-20230315232951080.png" /></a></p>
<h3 id="24">2.4 绘制方向<a class="headerlink" href="#24" title="Permanent link">&para;</a></h3>
<p>OpenGL 中默认使用逆时针绘制多边形表示正面，而使用顺时针绘制则表示背面。</p>
<p>在上节中，我们使用 逆时针 方向进行绘制得到了可见的图像，接下来，我们以正方形的绘制为例，进行顺时针图像的绘制，以此来进行对比。</p>
<p>这里由于 OpenGL 关闭了面剔除功能，所以我们需要在函数中设置开启。</p>
<div class="highlight"><pre><span></span><code><span class="kt">void</span><span class="w"> </span><span class="nf">CGLSample1View::DrawSquare</span><span class="p">()</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">GLfloat</span><span class="w"> </span><span class="n">vertices</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// 四个点按顺时针方向排列</span>
<span class="w">        </span><span class="mf">-50.0f</span><span class="p">,</span><span class="w">  </span><span class="mf">50.0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0f</span><span class="p">,</span><span class="w"> </span><span class="c1">// 左上角</span>
<span class="w">         </span><span class="mf">50.0f</span><span class="p">,</span><span class="w">  </span><span class="mf">50.0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0f</span><span class="p">,</span><span class="w"> </span><span class="c1">// 右上角</span>
<span class="w">         </span><span class="mf">50.0f</span><span class="p">,</span><span class="w"> </span><span class="mf">-50.0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0f</span><span class="p">,</span><span class="w"> </span><span class="c1">// 右下角</span>
<span class="w">        </span><span class="mf">-50.0f</span><span class="p">,</span><span class="w"> </span><span class="mf">-50.0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0f</span><span class="w"> </span><span class="c1">// 左下角</span>
<span class="w">    </span><span class="p">};</span>
<span class="w">    </span><span class="c1">// 开启面剔除功能</span>
<span class="w">    </span><span class="n">glEnable</span><span class="p">(</span><span class="n">GL_CULL_FACE</span><span class="p">);</span>
<span class="w">    </span><span class="c1">// 设置剔除背面</span>
<span class="w">    </span><span class="n">glCullFace</span><span class="p">(</span><span class="n">GL_BACK</span><span class="p">);</span>
<span class="w">    </span><span class="c1">// 绘制正方形，使用 GL_POLYGON 模式</span>
<span class="w">    </span><span class="n">glBegin</span><span class="p">(</span><span class="n">GL_POLYGON</span><span class="p">);</span>
<span class="w">        </span><span class="c1">// 循环传递四个顶点给 OpenGL</span>
<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">4</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">glVertex3fv</span><span class="p">(</span><span class="o">&amp;</span><span class="n">vertices</span><span class="p">[</span><span class="n">i</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">3</span><span class="p">]);</span><span class="w"> </span><span class="c1">// 将顶点传递给OpenGL</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="n">glEnd</span><span class="p">();</span>
<span class="w">    </span><span class="c1">// 关闭面剔除功能</span>
<span class="w">    </span><span class="n">glDisable</span><span class="p">(</span><span class="n">GL_CULL_FACE</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p>此时的运行结果显示的是正方形的背面，但是由于 OpenGL 进行了背面剔除，所以显示界面空无一物。</p>
<p><a class="glightbox" href="../img/image-20230316002724684.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="image-20230316002724684" src="../img/image-20230316002724684.png" /></a></p>
<h3 id="25">2.5 章节小结<a class="headerlink" href="#25" title="Permanent link">&para;</a></h3>
<p>本章就 OpenGL 的基本建模操作进行介绍，并绘制了多个三维物体和几何图元。</p>
<h2 id="3">第3章 物体的平移与旋转<a class="headerlink" href="#3" title="Permanent link">&para;</a></h2>
<h3 id="31">3.1 教材参考<a class="headerlink" href="#31" title="Permanent link">&para;</a></h3>
<ul>
<li>OpenGL 教程 / OpenGL 基础图形编程 / 第八章 OpenGL 变换</li>
</ul>
<h3 id="32">3.2 物体平移<a class="headerlink" href="#32" title="Permanent link">&para;</a></h3>
<h4 id="321">3.2.1 函数介绍<a class="headerlink" href="#321" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><span class="kt">void</span><span class="w"> </span><span class="n">glTranslatef</span><span class="p">{</span><span class="n">fd</span><span class="p">}(</span><span class="n">TYPE</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="n">TYPE</span><span class="w"> </span><span class="n">y</span><span class="p">,</span><span class="n">TYPE</span><span class="w"> </span><span class="n">z</span><span class="p">)</span>
</code></pre></div>
<p>三个函数参数就是目标分别沿三个轴向平移的偏移量。这个函数表示用这三个偏移量生成的矩阵乘以当前矩阵。当参数是 <code>(0.0, 0.0, 0.0)</code> 时，表示对函数 <code>glTranslate*()</code> 的操作是单位矩阵，也就是对物体没有影响。</p>
<h4 id="322">3.2.2 功能实现<a class="headerlink" href="#322" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><span class="n">glPushMatrix</span><span class="p">();</span>
<span class="w">    </span><span class="n">glPolygonMode</span><span class="p">(</span><span class="n">GL_FRONT_AND_BACK</span><span class="p">,</span><span class="n">GL_LINE</span><span class="p">);</span>
<span class="w">    </span><span class="n">glScalef</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span><span class="mf">0.5</span><span class="p">,</span><span class="mf">0.5</span><span class="p">);</span><span class="c1">//缩放功能(针对原点缩放)</span>
<span class="w">    </span><span class="n">glTranslatef</span><span class="p">(</span><span class="mf">-500.0f</span><span class="p">,</span><span class="mf">0.0f</span><span class="p">,</span><span class="mf">0.0f</span><span class="p">);</span><span class="w"> </span><span class="c1">// 左移 500 单位</span>
<span class="w">    </span><span class="n">DrawTriangle</span><span class="p">();</span>
<span class="n">glPopMatrix</span><span class="p">();</span>
<span class="n">glPushMatrix</span><span class="p">();</span>
<span class="w">    </span><span class="n">glPolygonMode</span><span class="p">(</span><span class="n">GL_FRONT_AND_BACK</span><span class="p">,</span><span class="n">GL_LINE</span><span class="p">);</span>
<span class="w">    </span><span class="n">glTranslatef</span><span class="p">(</span><span class="mf">250.0f</span><span class="p">,</span><span class="mf">0.0f</span><span class="p">,</span><span class="mf">0.0f</span><span class="p">);</span><span class="w"> </span><span class="c1">// 右移 250 单位</span>
<span class="w">    </span><span class="n">glScalef</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">);</span><span class="c1">//缩放功能</span>
<span class="w">    </span><span class="n">DrawQuad</span><span class="p">();</span>
<span class="n">glPopMatrix</span><span class="p">();</span>
<span class="n">glPushMatrix</span><span class="p">();</span>
<span class="w">    </span><span class="n">glTranslatef</span><span class="p">(</span><span class="mf">0.0f</span><span class="p">,</span><span class="mf">-250.0f</span><span class="p">,</span><span class="mf">0.0f</span><span class="p">);</span><span class="w"> </span><span class="c1">// 下移 250 单位</span>
<span class="w">    </span><span class="n">glColor4f</span><span class="p">(</span><span class="mf">1.0f</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0f</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0f</span><span class="p">);</span>
<span class="w">    </span><span class="n">DrawQuad</span><span class="p">();</span>
<span class="n">glPopMatrix</span><span class="p">();</span>
<span class="n">glPushMatrix</span><span class="p">();</span>
<span class="w">    </span><span class="n">glTranslatef</span><span class="p">(</span><span class="mf">0.0f</span><span class="p">,</span><span class="mf">300.0f</span><span class="p">,</span><span class="mf">0.0f</span><span class="p">);</span><span class="w"> </span><span class="c1">// 上移 300 单位</span>
<span class="w">    </span><span class="n">DrawQuad</span><span class="p">();</span>
<span class="n">glPopMatrix</span><span class="p">();</span>
</code></pre></div>
<h3 id="33">3.3 物体旋转<a class="headerlink" href="#33" title="Permanent link">&para;</a></h3>
<h4 id="331">3.3.1 函数介绍<a class="headerlink" href="#331" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><span class="kt">void</span><span class="w"> </span><span class="n">glRotatef</span><span class="p">{</span><span class="n">fd</span><span class="p">}(</span><span class="n">TYPE</span><span class="w"> </span><span class="n">angle</span><span class="p">,</span><span class="n">TYPE</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="n">TYPE</span><span class="w"> </span><span class="n">y</span><span class="p">,</span><span class="n">TYPE</span><span class="w"> </span><span class="n">z</span><span class="p">)</span>
</code></pre></div>
<p>函数中第一个参数是表示目标沿从点 <code>(x, y, z)</code> 到原点的方向逆时针旋转的角度，后三个参数是旋转的方向点坐标。这个函数表示用这四个参数生成的矩阵乘以当前矩阵。当角度参数是 <code>0.0</code> 时，表示对物体没有影响。</p>
<h4 id="332">3.3.2 功能实现<a class="headerlink" href="#332" title="Permanent link">&para;</a></h4>
<p>旋转功能，旋转函数 <code>glRotatef()</code>（在 Ontime 添加 angle）</p>
<p>1、在 <code>GLsample1View.h</code> 中定义 angle 函数</p>
<div class="highlight"><pre><span></span><code><span class="kt">double</span><span class="w"> </span><span class="n">angleZ</span><span class="p">;</span>
<span class="kt">double</span><span class="w"> </span><span class="n">angleY</span><span class="p">;</span>
<span class="kt">double</span><span class="w"> </span><span class="n">angleX</span><span class="p">;</span>
</code></pre></div>
<p>2、在 <code>GLsample1View.cpp</code> 中添加写旋转函数代码</p>
<div class="highlight"><pre><span></span><code><span class="kt">void</span><span class="w"> </span><span class="nf">CGLSample1View::OnTimer</span><span class="p">(</span><span class="n">UINT_PTR</span><span class="w"> </span><span class="n">nIDEvent</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">angleZ</span><span class="o">+=</span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="c1">///绕 Z 轴转动</span>
<span class="w">    </span><span class="n">angleY</span><span class="o">+=</span><span class="mi">1</span><span class="p">;</span>
<span class="w">    </span><span class="k">this</span><span class="o">-&gt;</span><span class="n">Invalidate</span><span class="p">();</span>
<span class="w">    </span><span class="n">CView</span><span class="o">::</span><span class="n">OnTimer</span><span class="p">(</span><span class="n">nIDEvent</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p>3、用旋转函数 <code>glRotatef()</code> 实现旋转功能</p>
<div class="highlight"><pre><span></span><code><span class="n">glPushMatrix</span><span class="p">();</span>
<span class="w">    </span><span class="n">glRotatef</span><span class="p">(</span><span class="mi">60</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">);</span><span class="w"> </span><span class="c1">//旋转</span>
<span class="w">    </span><span class="n">glTranslatef</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="mi">0</span><span class="p">);</span><span class="c1">//上移 100 单位</span>
<span class="w">    </span><span class="n">DrawTriangle</span><span class="p">();</span>
<span class="n">glPopMatrix</span><span class="p">();</span>
</code></pre></div>
<p>4、三角形绕着 z 轴旋转</p>
<div class="highlight"><pre><span></span><code><span class="n">glPushMatrix</span><span class="p">();</span>
<span class="w">    </span><span class="n">glRotatef</span><span class="p">(</span><span class="mi">45</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">);</span><span class="w"> </span><span class="c1">//绕 y 轴旋转 45°</span>
<span class="w">    </span><span class="n">glTranslatef</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="mi">0</span><span class="p">);</span><span class="c1">//上移 100 单位</span>
<span class="w">    </span><span class="n">DrawTriangle</span><span class="p">();</span>
<span class="n">glPopMatrix</span><span class="p">();</span>
<span class="n">glPushMatrix</span><span class="p">();</span>
<span class="w">    </span><span class="n">glTranslatef</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">);</span>
<span class="w">    </span><span class="n">glRotatef</span><span class="p">(</span><span class="n">angleZ</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span><span class="c1">//点击鼠标绕Z轴旋转</span>
<span class="w">    </span><span class="n">DrawTriangle</span><span class="p">();</span>
<span class="n">glPopMatrix</span><span class="p">();</span>
</code></pre></div>
<h2 id="4">第4章 坐标轴绘制<a class="headerlink" href="#4" title="Permanent link">&para;</a></h2>
<h3 id="41">4.1 教材参考<a class="headerlink" href="#41" title="Permanent link">&para;</a></h3>
<ul>
<li>OpenGL 教程 / OpenGL 基础图形编程 / 第八章、第九章 OpenGL 变换与颜色</li>
</ul>
<p>弹出颜色对话框</p>
<h3 id="42-xyz">4.2 绘制 x，y，z 三轴坐标系<a class="headerlink" href="#42-xyz" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="kt">void</span><span class="w"> </span><span class="nf">CGLSample1View::DrawString</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">str</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">isFirstCall</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="n">GLuint</span><span class="w"> </span><span class="n">lists</span><span class="p">;</span>

<span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="w"> </span><span class="n">isFirstCall</span><span class="w"> </span><span class="p">)</span><span class="w"> </span>
<span class="w">    </span><span class="p">{</span><span class="w">   </span><span class="c1">// 如果是第一次调用，执行初始化</span>
<span class="w">        </span><span class="c1">// 为每一个ASCII字符产生一个显示列表</span>
<span class="w">        </span><span class="n">isFirstCall</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span>
<span class="w">        </span><span class="c1">// 申请MAX_CHAR个连续的显示列表编号</span>
<span class="w">        </span><span class="n">lists</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">glGenLists</span><span class="p">(</span><span class="n">MAX_CHAR</span><span class="p">);</span><span class="w"> </span>
<span class="w">        </span><span class="c1">// 把每个字符的绘制命令都装到对应的显示列表中</span>
<span class="w">        </span><span class="n">wglUseFontBitmaps</span><span class="p">(</span><span class="n">wglGetCurrentDC</span><span class="p">(),</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">MAX_CHAR</span><span class="p">,</span><span class="w"> </span><span class="n">lists</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="c1">// 调用每个字符对应的显示列表，绘制每个字符</span>
<span class="w">    </span><span class="k">for</span><span class="p">(;</span><span class="w"> </span><span class="o">*</span><span class="n">str</span><span class="o">!=</span><span class="sc">&#39;\0&#39;</span><span class="p">;</span><span class="w"> </span><span class="o">++</span><span class="n">str</span><span class="p">)</span>
<span class="w">        </span><span class="n">glCallList</span><span class="p">(</span><span class="n">lists</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="o">*</span><span class="n">str</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="5">第5章 物体的光照与材质<a class="headerlink" href="#5" title="Permanent link">&para;</a></h2>
<h3 id="51">5.1 教材参考<a class="headerlink" href="#51" title="Permanent link">&para;</a></h3>
<ul>
<li>OpenGL 教程 / OpenGL 基础图形编程 / 第十章 OpenGL 光照</li>
</ul>
<h3 id="52">5.2 光照与材质<a class="headerlink" href="#52" title="Permanent link">&para;</a></h3>
<h4 id="521">5.2.1 光照代码实现<a class="headerlink" href="#521" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><span class="kt">void</span><span class="w"> </span><span class="nf">CGLSample1View::OnLight</span><span class="p">()</span>
<span class="p">{</span>
<span class="w">    </span><span class="c1">// 设置0号光照位置</span>
<span class="w">    </span><span class="n">GLfloat</span><span class="w"> </span><span class="n">light_position</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0</span><span class="w"> </span><span class="p">};</span>
<span class="w">    </span><span class="c1">// 使用0号光源</span>
<span class="w">    </span><span class="n">glLightfv</span><span class="p">(</span><span class="n">GL_LIGHT0</span><span class="p">,</span><span class="w"> </span><span class="n">GL_POSITION</span><span class="p">,</span><span class="w"> </span><span class="n">light_position</span><span class="p">);</span>
<span class="w">    </span><span class="c1">// 设置光照颜色</span>
<span class="w">    </span><span class="n">GLfloat</span><span class="w"> </span><span class="n">light_ambient</span><span class="w"> </span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0</span><span class="w"> </span><span class="p">};</span>
<span class="w">    </span><span class="n">GLfloat</span><span class="w"> </span><span class="n">light_diffuse</span><span class="w"> </span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0</span><span class="w"> </span><span class="p">};</span>
<span class="w">    </span><span class="n">GLfloat</span><span class="w"> </span><span class="n">light_specular</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0</span><span class="w"> </span><span class="p">};</span>
<span class="w">    </span><span class="n">glLightfv</span><span class="p">(</span><span class="n">GL_LIGHT0</span><span class="p">,</span><span class="w"> </span><span class="n">GL_DIFFUSE</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">light_diffuse</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="n">glLightfv</span><span class="p">(</span><span class="n">GL_LIGHT0</span><span class="p">,</span><span class="w"> </span><span class="n">GL_SPECULAR</span><span class="p">,</span><span class="w"> </span><span class="n">light_specular</span><span class="p">);</span>
<span class="w">    </span><span class="c1">// 启动光照</span>
<span class="w">    </span><span class="n">glEnable</span><span class="p">(</span><span class="n">GL_LIGHTING</span><span class="p">);</span>
<span class="w">    </span><span class="n">glEnable</span><span class="p">(</span><span class="n">GL_LIGHT0</span><span class="p">);</span><span class="w"> </span><span class="c1">// 启动0号光源</span>
<span class="w">    </span><span class="c1">// 设置1号光照位置</span>
<span class="w">    </span><span class="n">GLfloat</span><span class="w"> </span><span class="n">light_position1</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="mf">10.0</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0</span><span class="w"> </span><span class="p">};</span>
<span class="w">    </span><span class="c1">// 使用1号光源</span>
<span class="w">    </span><span class="n">glLightfv</span><span class="p">(</span><span class="n">GL_LIGHT1</span><span class="p">,</span><span class="w"> </span><span class="n">GL_POSITION</span><span class="p">,</span><span class="w"> </span><span class="n">light_position1</span><span class="p">);</span>
<span class="w">    </span><span class="n">GLfloat</span><span class="w"> </span><span class="n">light_ambient1</span><span class="w"> </span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0</span><span class="w"> </span><span class="p">};</span>
<span class="w">    </span><span class="n">glLightfv</span><span class="p">(</span><span class="n">GL_LIGHT1</span><span class="p">,</span><span class="w"> </span><span class="n">GL_AMBIENT</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">light_ambient1</span><span class="p">);</span>
<span class="w">    </span><span class="n">glEnable</span><span class="p">(</span><span class="n">GL_LIGHT1</span><span class="p">);</span><span class="w"> </span><span class="c1">// 启动0号光源</span>
<span class="p">}</span>
</code></pre></div>
<h4 id="522">5.2.2 材质代码实现<a class="headerlink" href="#522" title="Permanent link">&para;</a></h4>
<p>在 <code>OnDrow()</code> 中添加光照材质代码：</p>
<div class="highlight"><pre><span></span><code><span class="n">glPushMatrix</span><span class="p">();</span><span class="c1">//第一个茶壶</span>
<span class="w">    </span><span class="c1">//Light();//零号光源</span>
<span class="w">    </span><span class="n">glTranslatef</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">);</span>
<span class="w">    </span><span class="n">glRotatef</span><span class="p">(</span><span class="n">angleZ</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span>
<span class="w">    </span><span class="cm">/* 设置材质的各种光的颜色成分反射比率 */</span>
<span class="w">    </span><span class="n">GLfloat</span><span class="w"> </span><span class="n">light_position</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0</span><span class="w"> </span><span class="p">};</span>
<span class="w">    </span><span class="n">glLightfv</span><span class="p">(</span><span class="n">GL_LIGHT0</span><span class="p">,</span><span class="w"> </span><span class="n">GL_POSITION</span><span class="p">,</span><span class="w"> </span><span class="n">light_position</span><span class="p">);</span>
<span class="w">    </span><span class="n">glEnable</span><span class="p">(</span><span class="n">GL_LIGHTING</span><span class="p">);</span>
<span class="w">    </span><span class="n">glEnable</span><span class="p">(</span><span class="n">GL_LIGHT0</span><span class="p">);</span>
<span class="w">    </span><span class="n">GLfloat</span><span class="w"> </span><span class="n">mat_ambient</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mf">0.8</span><span class="p">,</span><span class="mf">0.8</span><span class="p">,</span><span class="mf">0.8</span><span class="p">,</span><span class="mf">1.0</span><span class="p">};</span>
<span class="w">    </span><span class="n">GLfloat</span><span class="w"> </span><span class="n">mat_diffuse</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mf">0.8</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.8</span><span class="p">,</span><span class="mf">1.0</span><span class="p">};</span><span class="c1">// 紫色 */</span>
<span class="w">    </span><span class="n">GLfloat</span><span class="w"> </span><span class="n">mat_specular</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0</span><span class="w"> </span><span class="p">};</span><span class="c1">// 亮紫色 */</span>
<span class="w">    </span><span class="n">GLfloat</span><span class="w"> </span><span class="n">mat_shininess</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="mf">50.0</span><span class="w"> </span><span class="p">};</span>
<span class="w">    </span><span class="n">glMaterialfv</span><span class="p">(</span><span class="n">GL_FRONT</span><span class="p">,</span><span class="w"> </span><span class="n">GL_AMBIENT</span><span class="p">,</span><span class="w"> </span><span class="n">mat_ambient</span><span class="p">);</span>
<span class="w">    </span><span class="n">glMaterialfv</span><span class="p">(</span><span class="n">GL_FRONT</span><span class="p">,</span><span class="w"> </span><span class="n">GL_DIFFUSE</span><span class="p">,</span><span class="w"> </span><span class="n">mat_diffuse</span><span class="p">);</span>
<span class="w">    </span><span class="n">glMaterialfv</span><span class="p">(</span><span class="n">GL_FRONT</span><span class="p">,</span><span class="w"> </span><span class="n">GL_SPECULAR</span><span class="p">,</span><span class="w"> </span><span class="n">mat_specular</span><span class="p">);</span>
<span class="w">    </span><span class="n">glMaterialfv</span><span class="p">(</span><span class="n">GL_FRONT</span><span class="p">,</span><span class="w"> </span><span class="n">GL_SHININESS</span><span class="p">,</span><span class="w"> </span><span class="n">mat_shininess</span><span class="p">);</span>
<span class="w">    </span><span class="n">glutSolidTeapot</span><span class="p">(</span><span class="mi">80</span><span class="p">);</span>
<span class="n">glPopMatrix</span><span class="p">();</span>
<span class="n">glPushMatrix</span><span class="p">();</span><span class="c1">//第二个茶壶</span>
<span class="w">    </span><span class="n">glRotatef</span><span class="p">(</span><span class="n">angleY</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">);</span>
<span class="w">    </span><span class="n">GLfloat</span><span class="w"> </span><span class="n">mat_ambient2</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">1.0</span><span class="p">};</span>
<span class="w">    </span><span class="n">GLfloat</span><span class="w"> </span><span class="n">mat_diffuse2</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mf">0.9</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">1.0</span><span class="p">};</span><span class="c1">// 紫色</span>
<span class="w">    </span><span class="n">GLfloat</span><span class="w"> </span><span class="n">mat_specular2</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0</span><span class="w"> </span><span class="p">};</span><span class="c1">// 亮紫色</span>
<span class="w">    </span><span class="n">GLfloat</span><span class="w"> </span><span class="n">mat_shininess2</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="mf">50.0</span><span class="w"> </span><span class="p">};</span>
<span class="w">    </span><span class="n">glMaterialfv</span><span class="p">(</span><span class="n">GL_FRONT</span><span class="p">,</span><span class="w"> </span><span class="n">GL_AMBIENT</span><span class="p">,</span><span class="w"> </span><span class="n">mat_ambient2</span><span class="p">);</span>
<span class="w">    </span><span class="n">glMaterialfv</span><span class="p">(</span><span class="n">GL_FRONT</span><span class="p">,</span><span class="w"> </span><span class="n">GL_DIFFUSE</span><span class="p">,</span><span class="w"> </span><span class="n">mat_diffuse2</span><span class="p">);</span>
<span class="w">    </span><span class="n">glMaterialfv</span><span class="p">(</span><span class="n">GL_FRONT</span><span class="p">,</span><span class="w"> </span><span class="n">GL_SPECULAR</span><span class="p">,</span><span class="w"> </span><span class="n">mat_specular2</span><span class="p">);</span>
<span class="w">    </span><span class="n">glMaterialfv</span><span class="p">(</span><span class="n">GL_FRONT</span><span class="p">,</span><span class="w"> </span><span class="n">GL_SHININESS</span><span class="p">,</span><span class="w"> </span><span class="n">mat_shininess2</span><span class="p">);</span>
<span class="w">    </span><span class="n">glTranslatef</span><span class="p">(</span><span class="mi">400</span><span class="p">,</span><span class="mi">200</span><span class="p">,</span><span class="mi">0</span><span class="p">);</span>
<span class="w">    </span><span class="n">glRotatef</span><span class="p">(</span><span class="n">angleY</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">);</span>
<span class="w">    </span><span class="n">glutSolidTeapot</span><span class="p">(</span><span class="mi">80</span><span class="p">);</span>
<span class="n">glPopMatrix</span><span class="p">();</span>
</code></pre></div>
<h4 id="523">5.2.3 绘制结果<a class="headerlink" href="#523" title="Permanent link">&para;</a></h4>
<p><a class="glightbox" href="../img/image-20230419161146406.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="image-20230419161146406" src="../img/image-20230419161146406.png" /></a></p>
<h3 id="54">5.4 制作工具栏按钮<a class="headerlink" href="#54" title="Permanent link">&para;</a></h3>
<p>视图 → 资源视图 → Toolbar → 绘制图像 → 设置ID</p>
<p><a class="glightbox" href="../img/image-20230322204223360.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="image-20230322204223360" src="../img/image-20230322204223360.png" /></a></p>
<p>类视图 → 类向导 → 新ID → 添加点击事件 <code>Onbutton</code></p>
<div class="highlight"><pre><span></span><code><span class="c1">// 加上前面所讲到的wglUseFontBitmaps函数，即可显示中文字符了。</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">CGLSample1View::drawCNString</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">str</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="p">;</span>
<span class="w">    </span><span class="kt">wchar_t</span><span class="o">*</span><span class="w"> </span><span class="n">wstring</span><span class="p">;</span>
<span class="w">    </span><span class="n">HDC</span><span class="w"> </span><span class="n">hDC</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">wglGetCurrentDC</span><span class="p">();</span>
<span class="w">    </span><span class="n">GLuint</span><span class="w"> </span><span class="n">list</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">glGenLists</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span><span class="w"> </span>
<span class="w">    </span><span class="c1">// 计算字符的个数</span>
<span class="w">    </span><span class="c1">// 如果是双字节字符的（比如中文字符），两个字节才算一个字符</span>
<span class="w">    </span><span class="c1">// 否则一个字节算一个字符</span>
<span class="w">    </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">str</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">!=</span><span class="sc">&#39;\0&#39;</span><span class="p">;</span><span class="w"> </span><span class="o">++</span><span class="n">i</span><span class="p">)</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="w"> </span><span class="n">IsDBCSLeadByte</span><span class="p">(</span><span class="n">str</span><span class="p">[</span><span class="n">i</span><span class="p">])</span><span class="w"> </span><span class="p">)</span>
<span class="w">            </span><span class="o">++</span><span class="n">i</span><span class="p">;</span>
<span class="w">        </span><span class="o">++</span><span class="n">len</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span>
<span class="w">    </span><span class="c1">// 将混合字符转化为宽字符</span>
<span class="w">    </span><span class="n">wstring</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kt">wchar_t</span><span class="o">*</span><span class="p">)</span><span class="n">malloc</span><span class="p">((</span><span class="n">len</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="kt">wchar_t</span><span class="p">));</span>
<span class="w">    </span><span class="n">MultiByteToWideChar</span><span class="p">(</span><span class="n">CP_ACP</span><span class="p">,</span><span class="w"> </span><span class="n">MB_PRECOMPOSED</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">,</span><span class="w"> </span><span class="mi">-1</span><span class="p">,</span><span class="w"> </span><span class="n">wstring</span><span class="p">,</span><span class="w"> </span><span class="n">len</span><span class="p">);</span>
<span class="w">    </span><span class="n">wstring</span><span class="p">[</span><span class="n">len</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sa">L</span><span class="sc">&#39;\0&#39;</span><span class="p">;</span><span class="w"> </span>
<span class="w">    </span><span class="c1">// 逐个输出字符</span>
<span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">&lt;</span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="o">++</span><span class="n">i</span><span class="p">)</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="n">wglUseFontBitmapsW</span><span class="p">(</span><span class="n">hDC</span><span class="p">,</span><span class="w"> </span><span class="n">wstring</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">list</span><span class="p">);</span>
<span class="w">        </span><span class="n">glCallList</span><span class="p">(</span><span class="n">list</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span>
<span class="w">    </span><span class="c1">// 回收所有临时资源</span>
<span class="w">    </span><span class="n">free</span><span class="p">(</span><span class="n">wstring</span><span class="p">);</span>
<span class="w">    </span><span class="n">glDeleteLists</span><span class="p">(</span><span class="n">list</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="6">第6章 绘制物体纹理<a class="headerlink" href="#6" title="Permanent link">&para;</a></h2>
<h3 id="61">6.1 教材参考<a class="headerlink" href="#61" title="Permanent link">&para;</a></h3>
<ul>
<li>OpenGL 教程 / OpenGL 基础图形编程 / 第十二章 OpenGL 纹理</li>
</ul>
<h3 id="62">6.2 创建纹理函数<a class="headerlink" href="#62" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="kt">bool</span><span class="w"> </span><span class="nf">CGLSample1View::CreateTexture</span><span class="p">(</span><span class="n">UINT</span><span class="w"> </span><span class="o">&amp;</span><span class="n">ntexture</span><span class="p">,</span><span class="n">LPSTR</span><span class="w"> </span><span class="n">strFileName</span><span class="w"> </span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">AUX_RGBImageRec</span><span class="w"> </span><span class="o">*</span><span class="n">pImage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">;</span>
<span class="w">    </span><span class="kt">FILE</span><span class="w"> </span><span class="o">*</span><span class="n">pFile</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">;</span><span class="w"> </span>
<span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">strFileName</span><span class="p">)</span><span class="w"> </span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span><span class="w"> </span>
<span class="w">    </span><span class="c1">// 以只读模式打开文件 </span>
<span class="w">    </span><span class="k">if</span><span class="p">((</span><span class="n">pFile</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fopen</span><span class="p">(</span><span class="n">strFileName</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;rb&quot;</span><span class="p">))</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span><span class="w"> </span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// 如果文件无法打开，则显示错误信息</span>
<span class="w">        </span><span class="n">AfxMessageBox</span><span class="p">(</span><span class="s">&quot;Unable to load BMP File!&quot;</span><span class="w"> </span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nb">NULL</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span>
<span class="w">    </span><span class="c1">// 装入位图</span>
<span class="w">    </span><span class="n">pImage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">auxDIBImageLoad</span><span class="p">(</span><span class="n">strFileName</span><span class="p">);</span><span class="w"> </span>
<span class="w">    </span><span class="c1">// 确保位图数据已经装入</span>
<span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">pImage</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span><span class="w">                              </span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span><span class="w"> </span>
<span class="w">    </span><span class="c1">// 生成纹理</span>

<span class="w">    </span><span class="c1">// ::wglMakeCurrent(m_hDC, m_hRC); </span>
<span class="w">     </span><span class="n">glGenTextures</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">ntexture</span><span class="p">);</span>
<span class="w">    </span><span class="c1">// 设置像素格式</span>
<span class="w">    </span><span class="n">glPixelStorei</span><span class="w"> </span><span class="p">(</span><span class="n">GL_UNPACK_ALIGNMENT</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span><span class="w"> </span>
<span class="w">    </span><span class="c1">// 捆绑纹理</span>
<span class="w">    </span><span class="n">glBindTexture</span><span class="p">(</span><span class="n">GL_TEXTURE_2D</span><span class="p">,</span><span class="w"> </span><span class="n">ntexture</span><span class="p">);</span><span class="w"> </span>
<span class="w">    </span><span class="n">gluBuild2DMipmaps</span><span class="p">(</span><span class="n">GL_TEXTURE_2D</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="n">pImage</span><span class="o">-&gt;</span><span class="n">sizeX</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="n">pImage</span><span class="o">-&gt;</span><span class="n">sizeY</span><span class="p">,</span><span class="w"> </span><span class="n">GL_RGB</span><span class="p">,</span><span class="w"> </span><span class="n">GL_UNSIGNED_BYTE</span><span class="p">,</span><span class="w"> </span><span class="n">pImage</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">);</span><span class="w"> </span><span class="n">glTexParameterf</span><span class="p">(</span><span class="n">GL_TEXTURE_2D</span><span class="p">,</span><span class="w"> </span><span class="n">GL_TEXTURE_WRAP_S</span><span class="p">,</span><span class="w"> </span><span class="n">GL_REPEAT</span><span class="p">);</span><span class="w">   </span>
<span class="w">    </span><span class="n">glTexParameterf</span><span class="p">(</span><span class="n">GL_TEXTURE_2D</span><span class="p">,</span><span class="w"> </span><span class="n">GL_TEXTURE_WRAP_T</span><span class="p">,</span><span class="w"> </span><span class="n">GL_REPEAT</span><span class="p">);</span><span class="w">  </span>
<span class="w">    </span><span class="n">glTexParameterf</span><span class="p">(</span><span class="n">GL_TEXTURE_2D</span><span class="p">,</span><span class="w"> </span><span class="n">GL_TEXTURE_MAG_FILTER</span><span class="p">,</span><span class="n">GL_LINEAR</span><span class="p">);</span><span class="c1">// GL_NEAREST);  </span>
<span class="w">    </span><span class="n">glTexParameterf</span><span class="p">(</span><span class="n">GL_TEXTURE_2D</span><span class="p">,</span><span class="w"> </span><span class="n">GL_TEXTURE_MIN_FILTER</span><span class="p">,</span><span class="n">GL_LINEAR</span><span class="p">);</span><span class="c1">//  GL_NEAREST);</span>
<span class="w">    </span><span class="c1">//glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_LINEAR_MIPMAP_NEAREST);</span>
<span class="w">    </span><span class="n">glTexEnvf</span><span class="p">(</span><span class="n">GL_TEXTURE_ENV</span><span class="p">,</span><span class="w"> </span><span class="n">GL_TEXTURE_ENV_MODE</span><span class="p">,</span><span class="w"> </span><span class="n">GL_MODULATE</span><span class="p">);</span><span class="w"> </span>
<span class="w">    </span><span class="c1">//  释放位图数据占据的内存资源</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">pImage</span><span class="p">)</span><span class="w"> </span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">pImage</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">)</span><span class="w">   </span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="n">free</span><span class="p">(</span><span class="n">pImage</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="n">free</span><span class="p">(</span><span class="n">pImage</span><span class="p">);</span><span class="w">   </span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span>
<span class="w">        </span><span class="c1">// 返回true</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="63">6.3 功能实现<a class="headerlink" href="#63" title="Permanent link">&para;</a></h3>
<p>在头文件中添加：</p>
<div class="highlight"><pre><span></span><code><span class="c1">//纹理</span>
<span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">texture</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
</code></pre></div>
<p>在视图类文件中：</p>
<div class="highlight"><pre><span></span><code><span class="n">CreateTexture</span><span class="p">(</span><span class="n">texture</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="w"> </span><span class="s">&quot;D://dem1.bmp&quot;</span><span class="w"> </span><span class="p">);</span><span class="w"> </span>
<span class="n">glEnable</span><span class="p">(</span><span class="n">GL_TEXTURE_2D</span><span class="p">);</span><span class="w">   </span>
<span class="n">glBindTexture</span><span class="p">(</span><span class="n">GL_TEXTURE_2D</span><span class="p">,</span><span class="w"> </span><span class="n">texture</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span><span class="w">  </span>
<span class="n">glBegin</span><span class="p">(</span><span class="n">GL_QUADS</span><span class="p">);</span><span class="w"> </span>
<span class="w">    </span><span class="c1">//glTexCoord2f(0.0, 0.0);</span>
<span class="w">    </span><span class="n">glVertex3f</span><span class="p">(</span><span class="mf">-200.0</span><span class="p">,</span><span class="w"> </span><span class="mf">-200.0</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0</span><span class="p">);</span>
<span class="w">    </span><span class="c1">//glTexCoord2f(0.0, 1.0); </span>
<span class="w">    </span><span class="n">glVertex3f</span><span class="p">(</span><span class="mf">-200.0</span><span class="p">,</span><span class="w"> </span><span class="mf">200.0</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0</span><span class="p">);</span>
<span class="w">    </span><span class="c1">//glTexCoord2f(1.0, 1.0);</span>
<span class="w">    </span><span class="n">glVertex3f</span><span class="p">(</span><span class="mf">200.0</span><span class="p">,</span><span class="w"> </span><span class="mf">200.0</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0</span><span class="p">);</span>
<span class="w">    </span><span class="c1">//glTexCoord2f(1.0, 0.0); </span>
<span class="w">    </span><span class="n">glVertex3f</span><span class="p">(</span><span class="mf">200.0</span><span class="p">,</span><span class="w"> </span><span class="mf">-200.0</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0</span><span class="p">);</span><span class="w">  </span>
<span class="n">glEnd</span><span class="p">();</span>
</code></pre></div>
<h3 id="64-fopen">6.4 fopen() 问题解决<a class="headerlink" href="#64-fopen" title="Permanent link">&para;</a></h3>
<p>参考：<a href="https://blog.csdn.net/qq_30815237/article/details/87005968">error C4996: 'fopen': This function or variable may be unsafe. Consider using fopen_s instead._菜鸟知识搬运工的博客-CSDN博客</a></p>
<p>在 VS2012 中，在视图类的头文件添加以下代码即可正常运行 <code>fopen()</code> 函数。</p>
<div class="highlight"><pre><span></span><code><span class="cp">#define _CRT_SECURE_NO_WARNINGS</span>
</code></pre></div>
<h3 id="65">6.5 纹理坐标映射<a class="headerlink" href="#65" title="Permanent link">&para;</a></h3>
<p>首先绘制两个三角形，然后将绘制的纹理附到三角形上，即可实现物体纹理显示的效果</p>
<div class="highlight"><pre><span></span><code><span class="c1">// 绘制三角形</span>
<span class="n">glBegin</span><span class="p">(</span><span class="n">GL_TRIANGLE_STRIP</span><span class="p">);</span>
<span class="w">    </span><span class="n">glVertex3f</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">);</span>
<span class="w">    </span><span class="n">glVertex3f</span><span class="p">(</span><span class="mf">100.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">);</span>
<span class="w">    </span><span class="n">glVertex3f</span><span class="p">(</span><span class="mf">50.0</span><span class="p">,</span><span class="mf">100.0</span><span class="p">,</span><span class="mi">0</span><span class="p">);</span><span class="w"> </span>
<span class="n">glEnd</span><span class="p">();</span>
</code></pre></div>
<h2 id="7">第7章 地表模型建立<a class="headerlink" href="#7" title="Permanent link">&para;</a></h2>
<h3 id="71">7.1 模型建立准备<a class="headerlink" href="#71" title="Permanent link">&para;</a></h3>
<p>首先，将 <code>ondraw()</code> 函数内容清空，然后在头部位置加入数学函数库</p>
<div class="highlight"><pre><span></span><code><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;math.h&gt;</span>
</code></pre></div>
<p>接下来，在头文件中定义高程的最大值最小值</p>
<div class="highlight"><pre><span></span><code><span class="kt">float</span><span class="w"> </span><span class="n">minz</span><span class="p">,</span><span class="n">maxz</span><span class="p">;</span>
</code></pre></div>
<p>使用类向导创建 <code>OnEraseBkgnd()</code> 函数</p>
<p><a class="glightbox" href="../img/image-20230329204128158.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="image-20230329204128158" src="../img/image-20230329204128158.png" /></a></p>
<p>随后将函数代码修改为如下内容：</p>
<div class="highlight"><pre><span></span><code><span class="n">BOOL</span><span class="w"> </span><span class="nf">CGLSample1View::OnEraseBkgnd</span><span class="p">(</span><span class="n">CDC</span><span class="o">*</span><span class="w"> </span><span class="n">pDC</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="c1">// TODO: 在此添加消息处理程序代码和/或调用默认值</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">CView</span><span class="o">::</span><span class="n">OnEraseBkgnd</span><span class="p">(</span><span class="n">pDC</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="72">7.2 功能实现<a class="headerlink" href="#72" title="Permanent link">&para;</a></h3>
<p>1、此时我们的 <code>OnDraw()</code> 函数内容如下：</p>
<div class="highlight"><pre><span></span><code><span class="kt">void</span><span class="w"> </span><span class="nf">CGLSample1View::OnDraw</span><span class="p">(</span><span class="n">CDC</span><span class="o">*</span><span class="w"> </span><span class="n">pDC</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">CGLSample1Doc</span><span class="o">*</span><span class="w"> </span><span class="n">pDoc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GetDocument</span><span class="p">();</span>
<span class="w">    </span><span class="n">ASSERT_VALID</span><span class="p">(</span><span class="n">pDoc</span><span class="p">);</span>
<span class="w">    </span><span class="n">HWND</span><span class="w"> </span><span class="n">hwnd</span><span class="o">=</span><span class="n">GetSafeHwnd</span><span class="p">();</span>
<span class="w">    </span><span class="n">HDC</span><span class="w"> </span><span class="n">hdc</span><span class="o">=::</span><span class="n">GetDC</span><span class="p">(</span><span class="n">hwnd</span><span class="p">);</span>
<span class="w">    </span><span class="n">wglMakeCurrent</span><span class="p">(</span><span class="n">hdc</span><span class="p">,</span><span class="n">m_hGLContext</span><span class="p">);</span><span class="w"> </span>
<span class="w">    </span><span class="n">glPolygonMode</span><span class="p">(</span><span class="n">GL_BACK</span><span class="p">,</span><span class="n">GL_FILL</span><span class="p">);</span>
<span class="w">    </span><span class="n">glPolygonMode</span><span class="p">(</span><span class="n">GL_FRONT</span><span class="p">,</span><span class="n">GL_FILL</span><span class="p">);</span>
<span class="w">    </span><span class="n">glShadeModel</span><span class="p">(</span><span class="n">GL_SMOOTH</span><span class="p">);</span><span class="w"> </span>
<span class="w">    </span><span class="n">glEnable</span><span class="p">(</span><span class="n">GL_AUTO_NORMAL</span><span class="p">);</span>
<span class="w">    </span><span class="n">glEnable</span><span class="p">(</span><span class="n">GL_NORMALIZE</span><span class="p">);</span><span class="w"> </span>
<span class="w">    </span><span class="n">glClear</span><span class="p">(</span><span class="n">GL_COLOR_BUFFER_BIT</span><span class="o">|</span><span class="n">GL_DEPTH_BUFFER_BIT</span><span class="p">);</span>
<span class="w">    </span><span class="n">glClearColor</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span>
<span class="w">    </span><span class="n">glClear</span><span class="p">(</span><span class="n">GL_COLOR_BUFFER_BIT</span><span class="p">);</span><span class="w">  </span>
<span class="w">    </span><span class="n">glLoadIdentity</span><span class="p">();</span>
<span class="w">    </span><span class="n">glTranslatef</span><span class="p">(</span><span class="n">movex</span><span class="p">,</span><span class="o">-</span><span class="n">movey</span><span class="p">,</span><span class="n">movez</span><span class="p">);</span><span class="w">   </span>
<span class="w">    </span><span class="n">glRotatef</span><span class="p">(</span><span class="n">m_rotatex</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">);</span>
<span class="w">    </span><span class="n">glRotatef</span><span class="p">(</span><span class="n">m_rotatez</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span>
<span class="w">    </span><span class="n">glDisable</span><span class="p">(</span><span class="n">GL_LIGHTING</span><span class="p">);</span><span class="w">   </span>
<span class="w">    </span><span class="n">DrawPoints</span><span class="p">();</span>
<span class="w">    </span><span class="n">SwapBuffers</span><span class="p">(</span><span class="n">hdc</span><span class="p">);</span>
<span class="w">    </span><span class="n">glFlush</span><span class="p">();</span>
<span class="w">    </span><span class="n">wglMakeCurrent</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span><span class="nb">NULL</span><span class="p">);</span><span class="w"> </span>
<span class="w">    </span><span class="n">glClear</span><span class="p">(</span><span class="n">GL_COLOR_BUFFER_BIT</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">GL_DEPTH_BUFFER_BIT</span><span class="w"> </span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p>2、绘制格网线框模型并添加纹理</p>
<p>在 <code>GLSample1View.cpp</code> 的 <code>DrawGridLine()</code> 添加线框代码、并声明函数，引用函数实现格网模型绘制</p>
<div class="highlight"><pre><span></span><code><span class="kt">void</span><span class="w"> </span><span class="nf">CGLSample1View::DrawGridLine</span><span class="p">()</span><span class="c1">//格网线框模型</span>
<span class="p">{</span>
<span class="w">    </span><span class="kt">float</span><span class="w"> </span><span class="n">dt</span><span class="o">=</span><span class="mi">10</span><span class="p">;</span>
<span class="w">    </span><span class="kt">float</span><span class="w"> </span><span class="n">x0</span><span class="o">=</span><span class="mi">-500</span><span class="p">;</span>
<span class="w">    </span><span class="kt">float</span><span class="w"> </span><span class="n">y0</span><span class="o">=</span><span class="mi">-500</span><span class="p">;</span>
<span class="w">    </span><span class="o">::</span><span class="n">glPushMatrix</span><span class="p">();</span>
<span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="kt">float</span><span class="w"> </span><span class="n">x</span><span class="o">=</span><span class="n">x0</span><span class="p">;</span><span class="n">x</span><span class="o">&lt;</span><span class="mi">500</span><span class="p">;</span><span class="n">x</span><span class="o">+=</span><span class="n">dt</span><span class="p">)</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="n">glBegin</span><span class="p">(</span><span class="n">GL_LINE_STRIP</span><span class="p">);</span>
<span class="w">            </span><span class="k">for</span><span class="p">(</span><span class="kt">float</span><span class="w"> </span><span class="n">y</span><span class="o">=</span><span class="n">y0</span><span class="p">;</span><span class="n">y</span><span class="o">&lt;=</span><span class="mi">500</span><span class="p">;</span><span class="n">y</span><span class="o">+=</span><span class="n">dt</span><span class="p">)</span>
<span class="w">            </span><span class="p">{</span>
<span class="w">                </span><span class="kt">float</span><span class="w"> </span><span class="n">z</span><span class="o">=</span><span class="n">GetZ</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">);</span>
<span class="w">                </span><span class="kt">float</span><span class="w"> </span><span class="n">r</span><span class="o">=</span><span class="n">GetRGB</span><span class="p">(</span><span class="n">z</span><span class="p">,</span><span class="n">minz</span><span class="p">,</span><span class="n">maxz</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span>
<span class="w">                </span><span class="kt">float</span><span class="w"> </span><span class="n">g</span><span class="o">=</span><span class="n">GetRGB</span><span class="p">(</span><span class="n">z</span><span class="p">,</span><span class="n">minz</span><span class="p">,</span><span class="n">maxz</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">);</span>
<span class="w">                </span><span class="kt">float</span><span class="w"> </span><span class="n">b</span><span class="o">=</span><span class="n">GetRGB</span><span class="p">(</span><span class="n">z</span><span class="p">,</span><span class="n">minz</span><span class="p">,</span><span class="n">maxz</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">);</span>
<span class="w">                </span><span class="n">glColor3f</span><span class="p">(</span><span class="n">r</span><span class="p">,</span><span class="n">g</span><span class="p">,</span><span class="n">b</span><span class="p">);</span>
<span class="w">                </span><span class="kt">float</span><span class="w"> </span><span class="n">x1</span><span class="o">=</span><span class="n">GetxyzV</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="mi">-500</span><span class="p">,</span><span class="mi">500</span><span class="p">);</span>
<span class="w">                </span><span class="kt">float</span><span class="w"> </span><span class="n">y1</span><span class="o">=</span><span class="n">GetxyzV</span><span class="p">(</span><span class="n">y</span><span class="p">,</span><span class="mi">-500</span><span class="p">,</span><span class="mi">500</span><span class="p">);</span>
<span class="w">                </span><span class="n">glTexCoord2f</span><span class="p">(</span><span class="n">x1</span><span class="p">,</span><span class="n">y1</span><span class="p">);</span>
<span class="w">                </span><span class="n">glVertex3f</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="o">+</span><span class="mi">5</span><span class="p">);</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="n">glEnd</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="kt">float</span><span class="w"> </span><span class="n">y</span><span class="o">=</span><span class="n">y0</span><span class="p">;</span><span class="n">y</span><span class="o">&lt;</span><span class="mi">500</span><span class="p">;</span><span class="n">y</span><span class="o">+=</span><span class="n">dt</span><span class="p">)</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="n">glBegin</span><span class="p">(</span><span class="n">GL_LINE_STRIP</span><span class="p">);</span>
<span class="w">            </span><span class="k">for</span><span class="p">(</span><span class="kt">float</span><span class="w"> </span><span class="n">x</span><span class="o">=</span><span class="n">x0</span><span class="p">;</span><span class="n">x</span><span class="o">&lt;=</span><span class="mi">500</span><span class="p">;</span><span class="n">x</span><span class="o">+=</span><span class="n">dt</span><span class="p">)</span>
<span class="w">            </span><span class="p">{</span>
<span class="w">                </span><span class="kt">float</span><span class="w"> </span><span class="n">z</span><span class="o">=</span><span class="n">GetZ</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">);</span>
<span class="w">                </span><span class="kt">float</span><span class="w"> </span><span class="n">r</span><span class="o">=</span><span class="n">GetRGB</span><span class="p">(</span><span class="n">z</span><span class="p">,</span><span class="n">minz</span><span class="p">,</span><span class="n">maxz</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span>
<span class="w">                </span><span class="kt">float</span><span class="w"> </span><span class="n">g</span><span class="o">=</span><span class="n">GetRGB</span><span class="p">(</span><span class="n">z</span><span class="p">,</span><span class="n">minz</span><span class="p">,</span><span class="n">maxz</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">);</span>
<span class="w">                </span><span class="kt">float</span><span class="w"> </span><span class="n">b</span><span class="o">=</span><span class="n">GetRGB</span><span class="p">(</span><span class="n">z</span><span class="p">,</span><span class="n">minz</span><span class="p">,</span><span class="n">maxz</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">);</span>
<span class="w">                </span><span class="c1">// glColor3f(r,g,b);</span>
<span class="w">                </span><span class="kt">float</span><span class="w"> </span><span class="n">x1</span><span class="o">=</span><span class="n">GetxyzV</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="mi">-500</span><span class="p">,</span><span class="mi">500</span><span class="p">);</span>
<span class="w">                </span><span class="kt">float</span><span class="w"> </span><span class="n">y1</span><span class="o">=</span><span class="n">GetxyzV</span><span class="p">(</span><span class="n">y</span><span class="p">,</span><span class="mi">-500</span><span class="p">,</span><span class="mi">500</span><span class="p">);</span>
<span class="w">                </span><span class="n">glTexCoord2f</span><span class="p">(</span><span class="n">x1</span><span class="p">,</span><span class="n">y1</span><span class="p">);</span>
<span class="w">                </span><span class="n">glVertex3f</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="o">+</span><span class="mi">5</span><span class="p">);</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="n">glEnd</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="o">::</span><span class="n">glPopMatrix</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="73">7.3 绘制结果<a class="headerlink" href="#73" title="Permanent link">&para;</a></h3>
<p><a class="glightbox" href="../img/image-20230419174034961.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="image-20230419174034961" src="../img/image-20230419174034961.png" /></a></p>
<p><a class="glightbox" href="../img/image-20230419174001854.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="image-20230419174001854" src="../img/image-20230419174001854.png" /></a></p>

  <hr>
<div class="md-source-file">
  <small>
    
      最后更新:
      <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago"><span class="timeago" datetime="2023-05-17T13:43:54+00:00" locale="en"></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date">2023-05-17</span>
      
        <br>
        创建日期:
        <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago"><span class="timeago" datetime="2023-05-17T13:43:54+00:00" locale="en"></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date">2023-05-17</span>
      
    
  </small>
</div>





                
              </article>
            </div>
          
          
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            回到页面顶部
          </button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="页脚" >
        
          
          <a href="../" class="md-footer__link md-footer__link--prev" aria-label="上一页: Index" rel="prev">
            <div class="md-footer__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                上一页
              </span>
              <div class="md-ellipsis">
                Index
              </div>
            </div>
          </a>
        
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2023 gis-xh
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
    <a href="https://github.com/gis-xh" target="_blank" rel="noopener" title="GitHub | gis-xh" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.copy", "navigation.tabs", "navigation.top", "navigation.footer", "navigation.indexes", "navigation.expand", "search.suggest", "search.highlight", "search.share"], "search": "../../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.b4d07000.min.js"></script>
      
        <script src="../../js/timeago.min.js"></script>
      
        <script src="../../js/timeago_mkdocs_material.js"></script>
      
        <script src="../../mkdocs/js/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  <script>document$.subscribe(() => {const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});})</script></body>
</html>